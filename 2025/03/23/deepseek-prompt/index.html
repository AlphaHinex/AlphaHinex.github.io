
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>用不同姿势给 DeepSeek 提示词的效果对比实验 - Alpha Hinex&#39;s Blog</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Java, JavaScript, Spring, Html5, NoSQL, Docker, DevOps,DeepSeek, DeepSeek-R1, system prompt, user prompt, DeepSeek-R1-Distill-Qwen-32B, vLLM, chat-llms"> 
    <meta name="description" content="在 DeepSeek-R1 的官方 GitHub 仓库 中，有如下一段推荐用法：

其中黑体字高亮的第二点提到：
避免添加系统提示词；所有指令应该被包含进用户提示词中。
这与其他 LLM 的通常用法,"> 
    <meta name="author" content="Alpha Hinex"> 

    <meta name="msvalidate.01" content="D769824B4D44C14A4C777A6EC4E898FC"> 
    <meta name="baidu-site-verification" content="TimiEK4Y9V"> 
    <meta name="google-site-verification" content="B-WME81HWSnMIkZZxcxv7bVI6yjbpAFKvifi2X-EkzQ"> 

    <link rel="alternative" href="atom.xml" title="Alpha Hinex&#39;s Blog" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link href="https://fonts.loli.net/css?family=Roboto+Mono|Rubik&display=swap" rel="stylesheet">
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/animate.css/3.7.2/animate.min.css">

    
<link rel="stylesheet" href="/css/share.min.css">

    
<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/codemirror.min.css">

    
<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

<meta name="generator" content="Hexo 4.2.1"></head>


<body class="loading">
    <div class="loader">
        <div class="la-ball-atom la-2x">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <span id="config-title" style="display:none">Alpha Hinex&#39;s Blog</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt="" data-url="https://AlphaHinex.github.io">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">用不同姿势给 DeepSeek 提示词的效果对比实验</h3>
        <div class="social">
            <!--        <div class="like-icon">-->
            <!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
            <!--        </div>-->
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/contents/covers/deepseek-prompt.png);">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                <a href="/categories/AI"><b>「
                    </b>AI<b> 」</b></a>
                
                三月 23, 2025
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2025/03/23/deepseek-prompt/" title="用不同姿势给 DeepSeek 提示词的效果对比实验" class="">用不同姿势给 DeepSeek 提示词的效果对比实验</a>
            </h3>
            
            <p class="post-count animated fadeInDown">
                
                <span>
                    <b class="iconfont icon-text2"></b> <i>文章字数</i>
                    47k
                </span>
                
                
                <span>
                    <b class="iconfont icon-timer__s"></b> <i>阅读约需</i>
                    42 mins.
                </span>
                
                
                
                <span id="busuanzi_page_pv_container" style="display: flex;">
                    <b class="iconfont icon-read"></b> <i>阅读次数</i>
                    <span id="busuanzi_value_page_pv"></span>
                </span>
                
            </p>
            
            
            <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/DeepSeek/" rel="tag">DeepSeek</a></li><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/vLLM/" rel="tag">vLLM</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <p>在 DeepSeek-R1 的官方 GitHub <a href="https://github.com/deepseek-ai/DeepSeek-R1" target="_blank" rel="noopener">仓库</a> 中，有如下一段推荐用法：</p>
<p><img src="/contents/covers/deepseek-prompt.png" alt=""></p>
<p>其中黑体字高亮的第二点提到：</p>
<p><strong>避免添加系统提示词；所有指令应该被包含进用户提示词中。</strong></p>
<p>这与其他 LLM 的通常用法有所不同。</p>
<p>那么在 DeepSeek-R1 系列模型中，用不同方式给提示词的效果有何不同呢？</p>
<h1 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL; DR"></a>TL; DR</h1><p>本文除使用一些官方提示词对比实验外，还构建了一个复杂一些的场景：将 DeepSeek 作为一个知识问答助手，在一定限制条件下回答用户的问题。</p>
<p>先说实验结论：</p>
<ol>
<li>在简单场景（如官方示例的提示库）下，使用系统提示词和用户提示词的效果相同。</li>
<li>在较为复杂的场景（如官方应用联网搜索提示词）下，使用<strong>用户提示词</strong>比系统提示词效果更好。</li>
<li>希望 DeepSeek 对提示词中指令遵循效果更好时，可以使用用户提示词（略微提升），或<strong>降低温度</strong>（效果明显）。</li>
<li>多轮对话场景中，使用<strong>用户提示词</strong>效果明显要好于系统提示词；用户提示词在多轮对话中的位置在测试结果中区别体现不明显，实际业务场景中提示词位置<strong>贴近</strong>用户最后问题的效果更好；倒第二和问题内两个位置差异不明显，可根据开发便捷性进行取舍。</li>
</ol>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>分类</td>
<td>SYSTEM</td>
<td>1.0</td>
<td>3 / 3</td>
<td>3 / 3</td>
</tr>
<tr>
<td>分类</td>
<td>USER</td>
<td>1.0</td>
<td>3 / 3</td>
<td>3 / 3</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>问答 - 不考虑限制</td>
<td>SYSTEM</td>
<td>0.6</td>
<td>3 / 3</td>
<td>3 / 3</td>
</tr>
<tr>
<td>问答 - 不考虑限制</td>
<td>USER</td>
<td>0.6</td>
<td>3 / 3</td>
<td>3 / 3</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>问答 - 定制 - 指令遵循</td>
<td>SYSTEM</td>
<td>0.6</td>
<td>6 / 10</td>
<td>5 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 指令遵循</td>
<td>SYSTEM</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 指令遵循</td>
<td>USER</td>
<td>0.6</td>
<td>7 / 10</td>
<td>6 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 指令遵循</td>
<td>USER</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>SYSTEM</td>
<td>0.6</td>
<td>7 / 10</td>
<td>5 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>SYSTEM</td>
<td>0</td>
<td>1 / 10</td>
<td>1 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 第一条</td>
<td>0.6</td>
<td>8 / 10</td>
<td>9 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 第一条</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 倒第二</td>
<td>0.6</td>
<td>8 / 10</td>
<td>9 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 倒第二</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 问题内</td>
<td>0.6</td>
<td>9 / 10</td>
<td>8 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 问题内</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
</tbody></table>
<blockquote>
<p>注：结果中的数字表示多次实验中结果符合预期的次数，即分数值越接近 1 效果越好。</p>
</blockquote>
<h1 id="实验工具"><a href="#实验工具" class="headerlink" title="实验工具"></a>实验工具</h1><ul>
<li>模型使用 DeepSeek 蒸馏版本：<a href="https://modelscope.cn/models/deepseek-ai/DeepSeek-R1-Distill-Qwen-32B" target="_blank" rel="noopener">DeepSeek-R1-Distill-Qwen-32B</a></li>
<li>通过 <a href="https://github.com/vllm-project/vllm" target="_blank" rel="noopener">vllm</a> 将模型发布成兼容 OpenAI 接口格式的 HTTP 服务</li>
<li>使用 <a href="https://github.com/AlphaHinex/go-toolkit/tree/main/chat-llms" target="_blank" rel="noopener">chat-llms</a> 执行测试</li>
</ul>
<h1 id="场景1：官方示例提示库内容分类"><a href="#场景1：官方示例提示库内容分类" class="headerlink" title="场景1：官方示例提示库内容分类"></a>场景1：官方示例提示库内容分类</h1><p>官方 DeepSeek API 文档的 <a href="https://api-docs.deepseek.com/zh-cn/prompt-library" target="_blank" rel="noopener">提示库</a> 中有一些提示词样例，并给出了通过 python 代码使用这些提示词的方式，如：</p>
<blockquote>
<p><strong>内容分类</strong></p>
<p>对文本内容进行分析，并对齐进行自动归类</p>
<p><strong>提示词</strong></p>
<p>SYSTEM</p>
<pre><code class="txt">#### 定位
- 智能助手名称 ：新闻分类专家
- 主要任务 ：对输入的新闻文本进行自动分类，识别其所属的新闻种类。

#### 能力
- 文本分析 ：能够准确分析新闻文本的内容和结构。
- 分类识别 ：根据分析结果，将新闻文本分类到预定义的种类中。

#### 知识储备
- 新闻种类 ：
  - 政治
  - 经济
  - 科技
  - 娱乐
  - 体育
  - 教育
  - 健康
  - 国际
  - 国内
  - 社会

#### 使用说明
- 输入 ：一段新闻文本。
- 输出 ：只输出新闻文本所属的种类，不需要额外解释。</code></pre>
<p>USER</p>
<pre><code class="txt">美国太空探索技术公司（SpaceX）的猎鹰9号运载火箭（Falcon 9）在经历美国联邦航空管理局（Federal Aviation Administration，FAA）短暂叫停发射后，于当地时间8月31日凌晨重启了发射任务。</code></pre>
<p><strong>样例输出</strong></p>
<pre><code class="txt">科技</code></pre>
<p><strong>代码</strong></p>
<pre><code class="python">from openai import OpenAI

client = OpenAI(
    base_url=&quot;https://api.deepseek.com/&quot;,
    api_key=&quot;&lt;YOUR_API_KEY&gt;&quot;
)

completion = client.chat.completions.create(
    model=&quot;deepseek-chat&quot;,
    messages=[
        {
                &quot;role&quot;: &quot;system&quot;,
                &quot;content&quot;: &quot;#### 定位\n- 智能助手名称 ：新闻分类专家\n- 主要任务 ：对输入的新闻文本进行自动分类，识别其所属的新闻种类。\n\n#### 能力\n- 文本分析 ：能够准确分析新闻文本的内容和结构。\n- 分类识别 ：根据分析结果，将新闻文本分类到预定义的种类中。\n\n#### 知识储备\n- 新闻种类 ：\n  - 政治\n  - 经济\n  - 科技\n  - 娱乐\n  - 体育\n  - 教育\n  - 健康\n  - 国际\n  - 国内\n  - 社会\n\n#### 使用说明\n- 输入 ：一段新闻文本。\n- 输出 ：只输出新闻文本所属的种类，不需要额外解释。&quot;
        },
        {
                &quot;role&quot;: &quot;user&quot;,
                &quot;content&quot;: &quot;美国太空探索技术公司（SpaceX）的猎鹰9号运载火箭（Falcon 9）在经历美国联邦航空管理局（Federal Aviation Administration，FAA）短暂叫停发射后，于当地时间8月31日凌晨重启了发射任务。&quot;
        }
    ]
)

print(completion.choices[0].message.content)</code></pre>
</blockquote>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>使用 <code>chat-llms</code> 工具进行实验，对比将指令放入系统提示词和包含进用户提示词的效果（<code>temperature</code> 设置为 <code>1</code>），待分类的文字内容为官方示例中的内容，预期结果为分类至 <code>科技</code>。</p>
<h3 id="SYSTEM"><a href="#SYSTEM" class="headerlink" title="SYSTEM"></a>SYSTEM</h3><p>测试使用系统提示词时，需要为 <code>chat-llms</code> 工具准备两个配置文件（未包含模型配置文件）：</p>
<p><code>system_prompt.txt</code></p>
<pre><code class="txt">#### 定位
- 智能助手名称 ：新闻分类专家
- 主要任务 ：对输入的新闻文本进行自动分类，识别其所属的新闻种类。

#### 能力
- 文本分析 ：能够准确分析新闻文本的内容和结构。
- 分类识别 ：根据分析结果，将新闻文本分类到预定义的种类中。

#### 知识储备
- 新闻种类 ：
  - 政治
  - 经济
  - 科技
  - 娱乐
  - 体育
  - 教育
  - 健康
  - 国际
  - 国内
  - 社会

#### 使用说明
- 输入 ：一段新闻文本。
- 输出 ：只输出新闻文本所属的种类，不需要额外解释。</code></pre>
<p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;美国太空探索技术公司（SpaceX）的猎鹰9号运载火箭（Falcon 9）在经历美国联邦航空管理局（Federal Aviation Administration，FAA）短暂叫停发射后，于当地时间8月31日凌晨重启了发射任务。&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>回答</th>
</tr>
</thead>
<tbody><tr>
<td>非流式1</td>
<td>科技</td>
</tr>
<tr>
<td>非流式2</td>
<td>科技</td>
</tr>
<tr>
<td>非流式3</td>
<td>科技</td>
</tr>
<tr>
<td>流式1</td>
<td>科技</td>
</tr>
<tr>
<td>流式2</td>
<td>科技</td>
</tr>
<tr>
<td>流式3</td>
<td>科技</td>
</tr>
</tbody></table>
<h3 id="USER"><a href="#USER" class="headerlink" title="USER"></a>USER</h3><p>测试用户提示词时，只需要一个配置文件（除了模型配置文件）：</p>
<p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;#### 定位\n- 智能助手名称 ：新闻分类专家\n- 主要任务 ：对输入的新闻文本进行自动分类，识别其所属的新闻种类。\n\n#### 能力\n- 文本分析 ：能够准确分析新闻文本的内容和结构。\n- 分类识别 ：根据分析结果，将新闻文本分类到预定义的种类中。\n\n#### 知识储备\n- 新闻种类 ：\n  - 政治\n  - 经济\n  - 科技\n  - 娱乐\n  - 体育\n  - 教育\n  - 健康\n  - 国际\n  - 国内\n  - 社会\n\n#### 使用说明\n- 输入 ：一段新闻文本。\n- 输出 ：只输出新闻文本所属的种类，不需要额外解释。\n\n#### 用户输入\n美国太空探索技术公司（SpaceX）的猎鹰9号运载火箭（Falcon 9）在经历美国联邦航空管理局（Federal Aviation Administration，FAA）短暂叫停发射后，于当地时间8月31日凌晨重启了发射任务。&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>回答</th>
</tr>
</thead>
<tbody><tr>
<td>非流式1</td>
<td>科技</td>
</tr>
<tr>
<td>非流式2</td>
<td>科技</td>
</tr>
<tr>
<td>非流式3</td>
<td>科技</td>
</tr>
<tr>
<td>流式1</td>
<td>科技</td>
</tr>
<tr>
<td>流式2</td>
<td>科技</td>
</tr>
<tr>
<td>流式3</td>
<td>科技</td>
</tr>
</tbody></table>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>均得到符合预期的分类结果。</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>分类</td>
<td>SYSTEM</td>
<td>1.0</td>
<td>3 / 3</td>
<td>3 / 3</td>
</tr>
<tr>
<td>分类</td>
<td>USER</td>
<td>1.0</td>
<td>3 / 3</td>
<td>3 / 3</td>
</tr>
</tbody></table>
<blockquote>
<p>注：结果中的数字表示多次实验中结果符合预期的次数。</p>
</blockquote>
<h1 id="场景2：知识问答"><a href="#场景2：知识问答" class="headerlink" title="场景2：知识问答"></a>场景2：知识问答</h1><p>接下来构建一个复杂一些的场景：</p>
<p>将官方 DeepSeek API 文档 <a href="https://api-docs.deepseek.com/zh-cn/faq" target="_blank" rel="noopener">常见问题</a> 中的内容作为 <code>知识库</code>，使 DeepSeek 成为一个知识问答助手。</p>
<p>这里设定几个限制条件：</p>
<ol>
<li>回答的内容需要标明引用来源；</li>
<li>超出 <code>知识库</code> 内容范围的问题不予作答；</li>
<li>回答中不能包括 <code>知识库</code> 中不存在的内容；</li>
<li>回答中不要提及 <code>知识库</code> 。</li>
</ol>
<h2 id="2-1-官方联网搜索提示词"><a href="#2-1-官方联网搜索提示词" class="headerlink" title="2.1 官方联网搜索提示词"></a>2.1 官方联网搜索提示词</h2><p><a href="https://github.com/deepseek-ai/DeepSeek-R1?tab=readme-ov-file#official-prompts" target="_blank" rel="noopener">Official Prompts</a> 中提供了 DeepSeek 官方 web/app <code>联网搜索</code> 功能使用的提示词及配置：</p>
<blockquote>
<h3 id="Official-Prompts"><a href="#Official-Prompts" class="headerlink" title="Official Prompts"></a>Official Prompts</h3><p>In the official DeepSeek web/app, we don’t use system prompts but design two specific prompts for file upload and web search for better user experience. In addition, the temperature in web/app is 0.6.</p>
<p>…</p>
<p>For Web Search, {search_results}, {cur_date}, and {question} are arguments.</p>
<p>For Chinese query, we use the prompt:</p>
<pre><code class="python">search_answer_zh_template = \
&#39;&#39;&#39;# 以下内容是基于用户发送的消息的搜索结果:
{search_results}
在我给你的搜索结果中，每个结果都是[webpage X begin]...[webpage X end]格式的，X代表每篇文章的数字索引。请在适当的情况下在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。
在回答时，请注意以下几点：
- 今天是{cur_date}。
- 并非搜索结果的所有内容都与用户的问题密切相关，你需要结合问题，对搜索结果进行甄别、筛选。
- 对于列举类的问题（如列举所有航班信息），尽量将答案控制在10个要点以内，并告诉用户可以查看搜索来源、获得完整信息。优先提供信息完整、最相关的列举项；如非必要，不要主动告诉用户搜索结果未提供的内容。
- 对于创作类的问题（如写论文），请务必在正文的段落中引用对应的参考编号，例如[citation:3][citation:5]，不能只在文章末尾引用。你需要解读并概括用户的题目要求，选择合适的格式，充分利用搜索结果并抽取重要信息，生成符合用户要求、极具思想深度、富有创造力与专业性的答案。你的创作篇幅需要尽可能延长，对于每一个要点的论述要推测用户的意图，给出尽可能多角度的回答要点，且务必信息量大、论述详尽。
- 如果回答很长，请尽量结构化、分段落总结。如果需要分点作答，尽量控制在5个点以内，并合并相关的内容。
- 对于客观类的问答，如果问题的答案非常简短，可以适当补充一到两句相关信息，以丰富内容。
- 你需要根据用户要求和回答内容选择合适、美观的回答格式，确保可读性强。
- 你的回答应该综合多个相关网页来回答，不能重复引用一个网页。
- 除非用户要求，否则你回答的语言需要和用户提问的语言保持一致。

# 用户消息为：
{question}&#39;&#39;&#39;</code></pre>
</blockquote>
<h3 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h3><p>先不考虑上面提到的限制条件，直接用官方提示词和推荐温度值 <code>0.6</code> 看看回答的情况。</p>
<h4 id="SYSTEM-1"><a href="#SYSTEM-1" class="headerlink" title="SYSTEM"></a>SYSTEM</h4><p><code>system_prompt.txt</code></p>
<pre><code class="txt"># 以下内容是基于用户发送的消息的搜索结果:
[faq 1 begin]
账号无法登录
您账号近期的行为可能触发了我们的自动化风控策略，导致我们暂时关闭了您对账号的访问权限。如需申诉，请填写[问卷](https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg)，我们会尽快处理。
[faq 1 end]
[faq 2 begin]
邮箱无法注册
如果您在注册时，收到错误提示“注册失败，暂不支持该邮箱域名注册。”，这是因为您的邮箱不被 DeepSeek 支持，请切换邮箱服务提供商。如仍有问题，请联系 service@deepseek.com。
[faq 2 end]
[faq 3 begin]
个人实名认证与企业实名认证有什么区别？
个人实名认证账号与企业实名认证账号在用户权益和产品功能上目前没有区别，但认证方式和所需材料有所不同。根据合规要求，请以您账号的实际使用情况进行认证。
[faq 3 end]
[faq 4 begin]
企业实名账号可以更改为个人账号吗？
企业实名认证账号不可变更为个人认证或其他企业。
[faq 4 end]
[faq 5 begin]
如何充值？
在线充值：完成实名认证后，您可以在充值页使用支付宝/微信进行在线充值。您可以在账单页查询充值结果。

对公汇款：对公汇款仅支持企业用户。完成企业实名认证后，可获取专属汇款账号，向专属汇款账号进行打款。为保证汇款顺利进行，请确保汇款方开户名称与开放平台实名认证名称一致。我方银行账户到账后，汇款金额将在 10 分钟- 1 小时左右自动转入您的开放平台账户，如未及时收到，请联系我们。
[faq 5 end]
[faq 6 begin]
余额是否会过期？
充值余额不会失效过期。赠送余额的有效期您可以在[账单页](https://platform.deepseek.com/transactions)查看。
[faq 6 end]
[faq 7 begin]
如何申请发票？
请访问[账单](https://platform.deepseek.com/transactions)页，点击发票管理，申请发票。企业用户开具发票时，发票抬头需要与实名认证信息一致，目前开发票的周期为 7 个工作日左右。
[faq 7 end]
[faq 8 begin]
调用模型时的并发限制是多少？是否可以提高账号的并发上限？
当前阶段，我们没有按照用户设置硬性并发上限。在系统总负载量较高时，基于系统负载和用户短时历史用量的动态限流模型可能会导致用户收到 503 或 429 错误码。

目前暂不支持针对单个账号提高并发上限，感谢您的理解。
[faq 8 end]
[faq 9 begin]
为什么我感觉 API 返回比网页端慢
网页端默认使用流式输出（stream=true），即模型每输出一个字符，都会增量地显示在前端。

API 默认使用非流式输出（stream=false），即模型在所有内容输出完后，才会返回给用户。您可以通过开启 API 的 stream 模式来提升交互性。
[faq 9 end]
[faq 10 begin]
为什么调用 API 时，持续返回空行？
为了保持 TCP 连接不会因超时中断，我们会在请求等待调度过程中，持续返回空行（非流式请求）或 SSE keep-alive 注释（: keep-alive，流式请求）。如果您在自己解析 HTTP 响应，请注意处理这些空行或注释。
[faq 10 end]
[faq 11 begin]
是否支持 LangChain？
支持。LangChain 支持 OpenAI API 接口，而 DeepSeek API 接口与 OpenAI 兼容。您可以下载以下代码文件并替换代码中的 API Key，实现在 LangChain 中调用 DeepSeek API。

[deepseek_langchain.py](https://cdn.deepseek.com/api-docs/deepseek_langchain.py)
[faq 11 end]
[faq 12 begin]
如何离线计算 Tokens 用量？
请参考 [Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)
[faq 12 end]
在我给你的搜索结果中，每个结果都是[faq X begin]...[faq X end]格式的，X代表每篇文章的数字索引。请在适当的情况下在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。
在回答时，请注意以下几点：
- 今天是2025年3月23日。
- 并非搜索结果的所有内容都与用户的问题密切相关，你需要结合问题，对搜索结果进行甄别、筛选。
- 对于列举类的问题（如列举所有航班信息），尽量将答案控制在10个要点以内，并告诉用户可以查看搜索来源、获得完整信息。优先提供信息完整、最相关的列举项；如非必要，不要主动告诉用户搜索结果未提供的内容。
- 对于创作类的问题（如写论文），请务必在正文的段落中引用对应的参考编号，例如[citation:3][citation:5]，不能只在文章末尾引用。你需要解读并概括用户的题目要求，选择合适的格式，充分利用搜索结果并抽取重要信息，生成符合用户要求、极具思想深度、富有创造力与专业性的答案。你的创作篇幅需要尽可能延长，对于每一个要点的论述要推测用户的意图，给出尽可能多角度的回答要点，且务必信息量大、论述详尽。
- 如果回答很长，请尽量结构化、分段落总结。如果需要分点作答，尽量控制在5个点以内，并合并相关的内容。
- 对于客观类的问答，如果问题的答案非常简短，可以适当补充一到两句相关信息，以丰富内容。
- 你需要根据用户要求和回答内容选择合适、美观的回答格式，确保可读性强。
- 你的回答应该综合多个相关 faq 来回答，不能重复引用一个 faq。
- 除非用户要求，否则你回答的语言需要和用户提问的语言保持一致。</code></pre>
<p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;如何登录&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>回答</th>
</tr>
</thead>
<tbody><tr>
<td>非流式1</td>
<td>根据搜索结果，目前没有直接提供登录步骤的FAQ，但如果您遇到账号无法登录的问题，可能是因为触发了风控策略，建议您填写申诉问卷进行处理[citation:1]。如果有其他问题，请联系客服获取帮助。</td>
</tr>
<tr>
<td>非流式2</td>
<td>根据提供的搜索结果，没有直接提供关于“如何登录”的具体步骤。不过，如果遇到登录问题，例如账号无法登录，可能是因为触发了风控策略，建议填写申诉问卷进行处理[citation:1]。如果有其他登录相关的问题，建议联系客服或参考平台提供的帮助文档。</td>
</tr>
<tr>
<td>非流式3</td>
<td>要登录您的账户，请按照以下步骤操作：<br><br>1. <strong>访问登录页面</strong>：前往DeepSeek的官方网站或指定的登录界面。<br><br>2. <strong>输入登录信息</strong>：在登录页面输入您的用户名和密码。确保您输入的信息正确无误。<br><br>3. <strong>完成验证</strong>：根据提示完成任何额外的验证步骤，例如短信验证码或邮箱验证。<br><br>4. <strong>检查账户状态</strong>：如果您无法登录，可能是由于账户被暂时限制访问。请检查是否有任何系统通知或限制信息。<br><br>5. <strong>重置密码</strong>：如果忘记密码，可以通过“忘记密码”功能重置您的密码。按照系统提示完成验证和密码设置。<br><br>6. <strong>联系客服</strong>：如果仍然无法登录，建议联系DeepSeek的客服团队寻求帮助。您可以填写<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">申诉问卷</a>进行申诉，他们会尽快处理您的问题[citation:1]。<br><br>确保您的设备和网络连接正常，避免使用公共网络进行敏感操作。如有进一步的问题，建议查阅相关帮助文档或联系技术支持。</td>
</tr>
<tr>
<td>流式1</td>
<td>如果您遇到登录问题，可以按照以下步骤进行操作：<br><br>1. <strong>检查账号状态</strong>：如果您尝试登录时遇到问题，可能是由于账号触发了风控策略，导致暂时无法访问。这种情况下，您可以填写申诉问卷，我们会尽快处理[citation:1]。<br><br>2. <strong>填写申诉问卷</strong>：如果您的账号被限制登录，可以通过填写<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">申诉问卷</a>来申请解除限制[citation:1]。<br><br>3. <strong>检查密码和登录信息</strong>：确保您输入的密码和账号信息正确无误。如果忘记密码，可以通过找回密码功能重置。<br><br>4. <strong>联系客服</strong>：如果问题仍未解决，您可以联系我们的客服团队，提供更多详细信息以便进一步协助。<br><br>希望以上信息能帮助您顺利登录。如果有其他问题，欢迎随时咨询。</td>
</tr>
<tr>
<td>流式2</td>
<td>如果您的账号无法登录，可能是因为近期行为触发了自动化风控策略，导致访问权限被暂时关闭。此时，您可以填写<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">申诉问卷</a>进行申诉，工作人员会尽快处理[citation:1]。<br><br>如果您是正常登录，请确保：<br>1. 使用正确的账号和密码；<br>2. 确认账号未被封禁或限制；<br>3. 检查网络连接是否正常；<br>4. 尝试清除浏览器缓存或更换浏览器；<br>5. 如果使用手机登录，确保已安装最新版本的官方APP。<br><br>如果问题仍未解决，建议联系DeepSeek的客服团队获取进一步帮助。</td>
</tr>
<tr>
<td>流式3</td>
<td>关于如何登录的问题，根据提供的搜索结果，没有直接提到登录的具体步骤或常见问题的解决方法。不过，您可以参考以下建议：<br><br>1. <strong>检查登录凭证</strong>：确保您输入的账号和密码正确无误。<br>2. <strong>网络和浏览器设置</strong>：确认您的网络连接正常，并尝试使用不同的浏览器或设备登录。<br>3. <strong>申诉流程</strong>：如果您遇到登录问题，可能是由于触发了风控策略，您可以填写<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">问卷</a>进行申诉[citation:1]。<br>4. <strong>联系客服</strong>：如果问题仍未解决，您可以联系客服获取进一步的帮助。<br><br>如果您有具体的登录问题或错误提示，提供更多细节可以帮助更好地解答。</td>
</tr>
</tbody></table>
<h4 id="USER-1"><a href="#USER-1" class="headerlink" title="USER"></a>USER</h4><p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;# 以下内容是基于用户发送的消息的搜索结果:\n[faq 1 begin]\n账号无法登录\n您账号近期的行为可能触发了我们的自动化风控策略，导致我们暂时关闭了您对账号的访问权限。如需申诉，请填写[问卷](https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg)，我们会尽快处理。\n[faq 1 end]\n[faq 2 begin]\n邮箱无法注册\n如果您在注册时，收到错误提示“注册失败，暂不支持该邮箱域名注册。”，这是因为您的邮箱不被 DeepSeek 支持，请切换邮箱服务提供商。如仍有问题，请联系 service@deepseek.com。\n[faq 2 end]\n[faq 3 begin]\n个人实名认证与企业实名认证有什么区别？\n个人实名认证账号与企业实名认证账号在用户权益和产品功能上目前没有区别，但认证方式和所需材料有所不同。根据合规要求，请以您账号的实际使用情况进行认证。\n[faq 3 end]\n[faq 4 begin]\n企业实名账号可以更改为个人账号吗？\n企业实名认证账号不可变更为个人认证或其他企业。\n[faq 4 end]\n[faq 5 begin]\n如何充值？\n在线充值：完成实名认证后，您可以在充值页使用支付宝/微信进行在线充值。您可以在账单页查询充值结果。\n\n对公汇款：对公汇款仅支持企业用户。完成企业实名认证后，可获取专属汇款账号，向专属汇款账号进行打款。为保证汇款顺利进行，请确保汇款方开户名称与开放平台实名认证名称一致。我方银行账户到账后，汇款金额将在 10 分钟- 1 小时左右自动转入您的开放平台账户，如未及时收到，请联系我们。\n[faq 5 end]\n[faq 6 begin]\n余额是否会过期？\n充值余额不会失效过期。赠送余额的有效期您可以在[账单页](https://platform.deepseek.com/transactions)查看。\n[faq 6 end]\n[faq 7 begin]\n如何申请发票？\n请访问[账单](https://platform.deepseek.com/transactions)页，点击发票管理，申请发票。企业用户开具发票时，发票抬头需要与实名认证信息一致，目前开发票的周期为 7 个工作日左右。\n[faq 7 end]\n[faq 8 begin]\n调用模型时的并发限制是多少？是否可以提高账号的并发上限？\n当前阶段，我们没有按照用户设置硬性并发上限。在系统总负载量较高时，基于系统负载和用户短时历史用量的动态限流模型可能会导致用户收到 503 或 429 错误码。\n\n目前暂不支持针对单个账号提高并发上限，感谢您的理解。\n[faq 8 end]\n[faq 9 begin]\n为什么我感觉 API 返回比网页端慢\n网页端默认使用流式输出（stream=true），即模型每输出一个字符，都会增量地显示在前端。\n\nAPI 默认使用非流式输出（stream=false），即模型在所有内容输出完后，才会返回给用户。您可以通过开启 API 的 stream 模式来提升交互性。\n[faq 9 end]\n[faq 10 begin]\n为什么调用 API 时，持续返回空行？\n为了保持 TCP 连接不会因超时中断，我们会在请求等待调度过程中，持续返回空行（非流式请求）或 SSE keep-alive 注释（: keep-alive，流式请求）。如果您在自己解析 HTTP 响应，请注意处理这些空行或注释。\n[faq 10 end]\n[faq 11 begin]\n是否支持 LangChain？\n支持。LangChain 支持 OpenAI API 接口，而 DeepSeek API 接口与 OpenAI 兼容。您可以下载以下代码文件并替换代码中的 API Key，实现在 LangChain 中调用 DeepSeek API。\n\n[deepseek_langchain.py](https://cdn.deepseek.com/api-docs/deepseek_langchain.py)\n[faq 11 end]\n[faq 12 begin]\n如何离线计算 Tokens 用量？\n请参考 [Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)\n[faq 12 end]\n在我给你的搜索结果中，每个结果都是[faq X begin]...[faq X end]格式的，X代表每篇文章的数字索引。请在适当的情况下在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。\n在回答时，请注意以下几点：\n- 今天是2025年3月23日。\n- 并非搜索结果的所有内容都与用户的问题密切相关，你需要结合问题，对搜索结果进行甄别、筛选。\n- 对于列举类的问题（如列举所有航班信息），尽量将答案控制在10个要点以内，并告诉用户可以查看搜索来源、获得完整信息。优先提供信息完整、最相关的列举项；如非必要，不要主动告诉用户搜索结果未提供的内容。\n- 对于创作类的问题（如写论文），请务必在正文的段落中引用对应的参考编号，例如[citation:3][citation:5]，不能只在文章末尾引用。你需要解读并概括用户的题目要求，选择合适的格式，充分利用搜索结果并抽取重要信息，生成符合用户要求、极具思想深度、富有创造力与专业性的答案。你的创作篇幅需要尽可能延长，对于每一个要点的论述要推测用户的意图，给出尽可能多角度的回答要点，且务必信息量大、论述详尽。\n- 如果回答很长，请尽量结构化、分段落总结。如果需要分点作答，尽量控制在5个点以内，并合并相关的内容。\n- 对于客观类的问答，如果问题的答案非常简短，可以适当补充一到两句相关信息，以丰富内容。\n- 你需要根据用户要求和回答内容选择合适、美观的回答格式，确保可读性强。\n- 你的回答应该综合多个相关 faq 来回答，不能重复引用一个 faq。\n- 除非用户要求，否则你回答的语言需要和用户提问的语言保持一致。\n\n# 用户消息为：\n如何登录&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<table>
<thead>
<tr>
<th></th>
<th>回答</th>
</tr>
</thead>
<tbody><tr>
<td>非流式1</td>
<td>要登录您的账户，请按照以下步骤操作：<br><br>1. <strong>访问登录页面</strong>：首先，访问DeepSeek的官方网站或相关登录界面。<br><br>2. <strong>输入登录信息</strong>：在登录页面，输入您的注册邮箱和密码。确保信息准确无误。<br><br>3. <strong>使用第三方登录（如适用）</strong>：部分平台支持通过邮箱、手机号或第三方账号（如微信、支付宝）进行登录。<br><br>4. <strong>检查账号状态</strong>：如果您无法登录，可能是因为账号触发了风控策略，导致暂时无法访问。此时，请填写<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">申诉问卷</a>以恢复访问权限[citation:1]。<br><br>5. <strong>重置密码</strong>：如果忘记密码，可以通过“忘记密码”功能重置。系统会发送一封包含重置链接的邮件到您的注册邮箱。<br><br>6. <strong>企业实名认证</strong>：如果您使用的是企业账号，确保已完成企业实名认证，以便享有更多功能和权益[citation:3][citation:4]。<br><br>如果仍有问题，请联系客服获取进一步帮助。</td>
</tr>
<tr>
<td>非流式2</td>
<td>根据搜索结果，目前没有直接提供“如何登录”的具体步骤，但您可以参考以下信息：<br><br>1. <strong>账号登录问题</strong>：如果您的账号无法登录，可能是因为触发了自动化风控策略。您可以填写<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">问卷</a>进行申诉，我们会尽快处理[citation:1]。<br><br>2. <strong>邮箱注册问题</strong>：如果您在注册时遇到“注册失败，暂不支持该邮箱域名注册”的提示，请切换邮箱服务提供商[citation:2]。<br><br>3. <strong>实名认证</strong>：完成实名认证后，您可以使用支付宝/微信进行在线充值，并在账单页查询充值结果[citation:5]。<br><br>4. <strong>发票申请</strong>：您可以在账单页申请发票，企业用户开具发票时，发票抬头需要与实名认证信息一致[citation:7]。<br><br>5. <strong>API 调用问题</strong>：如果在调用 API 时遇到问题，例如返回空行或并发限制，请参考相关文档或联系客服获取帮助[citation:8][citation:10]。<br><br>如果您有具体的登录问题或需要进一步的帮助，请提供更多详细信息，以便我们更好地为您解答。</td>
</tr>
<tr>
<td>非流式3</td>
<td>根据搜索结果，关于登录的问题，您可以参考以下信息：<br><br>1. <strong>登录步骤</strong>  <br>   请访问登录页面，输入您的账号和密码进行登录。如果遇到登录问题，可能是由于账号行为触发了风控策略，导致暂时无法访问。此时，您可以填写<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">申诉问卷</a>进行申诉，我们会尽快处理[citation:1]。<br><br>2. <strong>实名认证要求</strong>  <br>   在登录后，建议您完成实名认证以享有更多权益。个人实名认证和企业实名认证在功能上没有区别，但认证方式和所需材料不同。企业实名认证完成后不可更改为个人账号[citation:3][citation:4]。<br><br>3. <strong>其他问题</strong>  <br>   如果您在登录过程中遇到其他问题，例如邮箱注册问题或API调用问题，可以参考相关FAQ获取帮助[citation:2][citation:8][citation:10]。<br><br>如仍有疑问，欢迎联系客服获取进一步支持。</td>
</tr>
<tr>
<td>流式1</td>
<td>要登录系统，请按照以下步骤操作：<br><br>1. <strong>访问登录页面</strong>：打开浏览器，输入登录地址，进入登录页面。<br><br>2. <strong>输入账号信息</strong>：在登录页面输入您的用户名或注册邮箱。<br><br>3. <strong>输入密码</strong>：在密码栏输入您的登录密码。如果忘记了密码，可以使用“忘记密码”功能重置。<br><br>4. <strong>验证身份</strong>：根据系统提示，可能需要输入验证码或进行其他身份验证步骤。<br><br>5. <strong>登录成功</strong>：验证通过后，点击“登录”按钮，进入系统。<br><br>如果在登录过程中遇到问题，例如账号被锁定或无法访问，可能是因为触发了风控策略。您可以参考<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">FAQ 1</a>填写申诉问卷，以便尽快恢复登录权限[citation:1]。<br><br>此外，确保您的账号状态正常，如账号未被暂停或封禁。如果仍有困难，建议联系客服获取进一步帮助。</td>
</tr>
<tr>
<td>流式2</td>
<td>根据搜索结果，关于如何登录的问题，目前没有直接提供详细的登录步骤或方法。不过，您可以参考以下信息：<br><br>1. <strong>账号登录问题</strong>：如果您在登录时遇到问题，可能是由于账号触发了风控策略，导致暂时无法登录。您可以填写<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">申诉问卷</a>进行申诉，我们会尽快处理[citation:1]。<br><br>2. <strong>账号状态检查</strong>：如果您尚未登录，建议您访问DeepSeek的官方网站或相关平台，使用您的注册邮箱和密码进行登录。如果忘记密码，可以尝试通过“忘记密码”功能重置密码。<br><br>3. <strong>实名认证</strong>：如果您需要进行实名认证或企业认证，可以参考相关FAQ了解认证流程和要求[citation:3][citation:4]。<br><br>如果还有其他问题，请提供更多具体信息，以便我们更好地帮助您！</td>
</tr>
<tr>
<td>流式3</td>
<td>根据搜索结果，关于如何登录的问题，您可以参考以下步骤：<br><br>1. <strong>访问登录页面</strong>：首先，您需要访问 DeepSeek 的登录页面。您可以通过浏览器输入 DeepSeek 的官方网站地址，然后找到登录入口。<br><br>2. <strong>输入账号信息</strong>：在登录页面，您需要输入您的账号信息。通常，这包括您的邮箱地址和密码。<br><br>3. <strong>完成登录</strong>：输入正确的账号信息后，点击登录按钮，系统会验证您的信息。如果验证成功，您将进入 DeepSeek 的用户界面。<br><br>4. <strong>注意事项</strong>：如果您在登录过程中遇到问题，例如账号无法登录，可能是因为您的账号触发了风控策略。您可以填写<a href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg" target="_blank" rel="noopener">申诉问卷</a>进行申诉，我们会尽快处理[citation:1]。<br><br>如果还有其他问题，可以随时联系我们的客服支持。</td>
</tr>
</tbody></table>
<h3 id="小结-1"><a href="#小结-1" class="headerlink" title="小结"></a>小结</h3><p>由上面罗列的回答内容可以看到，无论是作为系统提示词还是用户提示词，DeepSeek 都能基于知识库内容进行作答，并引用了其中最相关的关于 <code>账号无法登录</code> 的问题。</p>
<p>但使用 <strong>用户提示词</strong> 时，回答中引用的知识更多，回答更丰富，体验更好。</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>问答 - 不考虑限制</td>
<td>SYSTEM</td>
<td>0.6</td>
<td>3 / 3</td>
<td>3 / 3</td>
</tr>
<tr>
<td>问答 - 不考虑限制</td>
<td>USER</td>
<td>0.6</td>
<td>3 / 3</td>
<td>3 / 3</td>
</tr>
</tbody></table>
<h2 id="2-2-定制提示词"><a href="#2-2-定制提示词" class="headerlink" title="2.2 定制提示词"></a>2.2 定制提示词</h2><p>现在加上限制条件，使用定制版本提示词：</p>
<pre><code class="txt">请你扮演一个无情的答题机器人，能回答与题库里内容相关的问题，除此之外一律回答不知道。

回答时需注意：
1. 今天是2025年3月23日。
2. 回答内容中不能提到题库。
3. 与题库中内容无关的问题（如：你是谁）不用思考，直接回答不知道。

以下是题库内容，每道题都是[faq X begin]...[faq X end]格式的，X代表题目的数字索引，第一行代表问题，之后内容为答案。请在回答时在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。
[faq 1 begin]
...
[faq 1 end]
...</code></pre>
<h3 id="2-2-1-指令遵循"><a href="#2-2-1-指令遵循" class="headerlink" title="2.2.1 指令遵循"></a>2.2.1 指令遵循</h3><h4 id="测试-2"><a href="#测试-2" class="headerlink" title="测试"></a>测试</h4><p>使用定制版提示词，分别测试作为系统提示词和用户提示词以及使用不同温度时，问一个与知识库无关的问题：<code>今天星期几</code>，预期回答不知道。</p>
<h5 id="SYSTEM-2"><a href="#SYSTEM-2" class="headerlink" title="SYSTEM"></a>SYSTEM</h5><p><code>system_prompt.txt</code></p>
<pre><code class="txt">请你扮演一个无情的答题机器人，能回答与题库里内容相关的问题，除此之外一律回答不知道。

回答时需注意：
1. 今天是2025年3月23日。
2. 回答内容中不能提到题库。
3. 与题库中内容无关的问题（如：你是谁）不用思考，直接回答不知道。

以下是题库内容，每道题都是[faq X begin]...[faq X end]格式的，X代表题目的数字索引，第一行代表问题，之后内容为答案。请在回答时在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。
[faq 1 begin]
账号无法登录
您账号近期的行为可能触发了我们的自动化风控策略，导致我们暂时关闭了您对账号的访问权限。如需申诉，请填写[问卷](https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg)，我们会尽快处理。
[faq 1 end]
[faq 2 begin]
邮箱无法注册
如果您在注册时，收到错误提示“注册失败，暂不支持该邮箱域名注册。”，这是因为您的邮箱不被 DeepSeek 支持，请切换邮箱服务提供商。如仍有问题，请联系 service@deepseek.com。
[faq 2 end]
[faq 3 begin]
个人实名认证与企业实名认证有什么区别？
个人实名认证账号与企业实名认证账号在用户权益和产品功能上目前没有区别，但认证方式和所需材料有所不同。根据合规要求，请以您账号的实际使用情况进行认证。
[faq 3 end]
[faq 4 begin]
企业实名账号可以更改为个人账号吗？
企业实名认证账号不可变更为个人认证或其他企业。
[faq 4 end]
[faq 5 begin]
如何充值？
在线充值：完成实名认证后，您可以在充值页使用支付宝/微信进行在线充值。您可以在账单页查询充值结果。

对公汇款：对公汇款仅支持企业用户。完成企业实名认证后，可获取专属汇款账号，向专属汇款账号进行打款。为保证汇款顺利进行，请确保汇款方开户名称与开放平台实名认证名称一致。我方银行账户到账后，汇款金额将在 10 分钟- 1 小时左右自动转入您的开放平台账户，如未及时收到，请联系我们。
[faq 5 end]
[faq 6 begin]
余额是否会过期？
充值余额不会失效过期。赠送余额的有效期您可以在[账单页](https://platform.deepseek.com/transactions)查看。
[faq 6 end]
[faq 7 begin]
如何申请发票？
请访问[账单](https://platform.deepseek.com/transactions)页，点击发票管理，申请发票。企业用户开具发票时，发票抬头需要与实名认证信息一致，目前开发票的周期为 7 个工作日左右。
[faq 7 end]
[faq 8 begin]
调用模型时的并发限制是多少？是否可以提高账号的并发上限？
当前阶段，我们没有按照用户设置硬性并发上限。在系统总负载量较高时，基于系统负载和用户短时历史用量的动态限流模型可能会导致用户收到 503 或 429 错误码。

目前暂不支持针对单个账号提高并发上限，感谢您的理解。
[faq 8 end]
[faq 9 begin]
为什么我感觉 API 返回比网页端慢
网页端默认使用流式输出（stream=true），即模型每输出一个字符，都会增量地显示在前端。

API 默认使用非流式输出（stream=false），即模型在所有内容输出完后，才会返回给用户。您可以通过开启 API 的 stream 模式来提升交互性。
[faq 9 end]
[faq 10 begin]
为什么调用 API 时，持续返回空行？
为了保持 TCP 连接不会因超时中断，我们会在请求等待调度过程中，持续返回空行（非流式请求）或 SSE keep-alive 注释（: keep-alive，流式请求）。如果您在自己解析 HTTP 响应，请注意处理这些空行或注释。
[faq 10 end]
[faq 11 begin]
是否支持 LangChain？
支持。LangChain 支持 OpenAI API 接口，而 DeepSeek API 接口与 OpenAI 兼容。您可以下载以下代码文件并替换代码中的 API Key，实现在 LangChain 中调用 DeepSeek API。

[deepseek_langchain.py](https://cdn.deepseek.com/api-docs/deepseek_langchain.py)
[faq 11 end]
[faq 12 begin]
如何离线计算 Tokens 用量？
请参考 [Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)
[faq 12 end]</code></pre>
<p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;今天星期几&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<p>分别多次测试温度为 <code>0</code> 和 <code>0.6</code> 的情况，温度值较低时，指令遵循的情况更好。未按预期回答 <code>不知道</code> 的回答中，有的直接回答了这个问题（有答对有答错的），并给出了错误的引用，如：</p>
<pre><code class="txt">今天是星期日。[citation:1]</code></pre>
<pre><code class="txt">今天是星期日。[citation:今天是2025年3月23日]</code></pre>
<pre><code class="txt">今天是2025年3月23日，星期六。[citation:1]</code></pre>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>问答 - 定制 - 指令遵循</td>
<td>SYSTEM</td>
<td>0.6</td>
<td>6 / 10</td>
<td>5 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 指令遵循</td>
<td>SYSTEM</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
</tbody></table>
<h5 id="USER-2"><a href="#USER-2" class="headerlink" title="USER"></a>USER</h5><p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;请你扮演一个无情的答题机器人，能回答与题库里内容相关的问题，除此之外一律回答不知道。\n\n回答时需注意：\n1. 今天是2025年3月23日。\n2. 回答内容中不能提到题库。\n3. 与题库中内容无关的问题（如：你是谁）不用思考，直接回答不知道。\n\n以下是题库内容，每道题都是[faq X begin]...[faq X end]格式的，X代表题目的数字索引，第一行代表问题，之后内容为答案。请在回答时在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。\n[faq 1 begin]\n账号无法登录\n您账号近期的行为可能触发了我们的自动化风控策略，导致我们暂时关闭了您对账号的访问权限。如需申诉，请填写[问卷](https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg)，我们会尽快处理。\n[faq 1 end]\n[faq 2 begin]\n邮箱无法注册\n如果您在注册时，收到错误提示“注册失败，暂不支持该邮箱域名注册。”，这是因为您的邮箱不被 DeepSeek 支持，请切换邮箱服务提供商。如仍有问题，请联系 service@deepseek.com。\n[faq 2 end]\n[faq 3 begin]\n个人实名认证与企业实名认证有什么区别？\n个人实名认证账号与企业实名认证账号在用户权益和产品功能上目前没有区别，但认证方式和所需材料有所不同。根据合规要求，请以您账号的实际使用情况进行认证。\n[faq 3 end]\n[faq 4 begin]\n企业实名账号可以更改为个人账号吗？\n企业实名认证账号不可变更为个人认证或其他企业。\n[faq 4 end]\n[faq 5 begin]\n如何充值？\n在线充值：完成实名认证后，您可以在充值页使用支付宝/微信进行在线充值。您可以在账单页查询充值结果。\n\n对公汇款：对公汇款仅支持企业用户。完成企业实名认证后，可获取专属汇款账号，向专属汇款账号进行打款。为保证汇款顺利进行，请确保汇款方开户名称与开放平台实名认证名称一致。我方银行账户到账后，汇款金额将在 10 分钟- 1 小时左右自动转入您的开放平台账户，如未及时收到，请联系我们。\n[faq 5 end]\n[faq 6 begin]\n余额是否会过期？\n充值余额不会失效过期。赠送余额的有效期您可以在[账单页](https://platform.deepseek.com/transactions)查看。\n[faq 6 end]\n[faq 7 begin]\n如何申请发票？\n请访问[账单](https://platform.deepseek.com/transactions)页，点击发票管理，申请发票。企业用户开具发票时，发票抬头需要与实名认证信息一致，目前开发票的周期为 7 个工作日左右。\n[faq 7 end]\n[faq 8 begin]\n调用模型时的并发限制是多少？是否可以提高账号的并发上限？\n当前阶段，我们没有按照用户设置硬性并发上限。在系统总负载量较高时，基于系统负载和用户短时历史用量的动态限流模型可能会导致用户收到 503 或 429 错误码。\n\n目前暂不支持针对单个账号提高并发上限，感谢您的理解。\n[faq 8 end]\n[faq 9 begin]\n为什么我感觉 API 返回比网页端慢\n网页端默认使用流式输出（stream=true），即模型每输出一个字符，都会增量地显示在前端。\n\nAPI 默认使用非流式输出（stream=false），即模型在所有内容输出完后，才会返回给用户。您可以通过开启 API 的 stream 模式来提升交互性。\n[faq 9 end]\n[faq 10 begin]\n为什么调用 API 时，持续返回空行？\n为了保持 TCP 连接不会因超时中断，我们会在请求等待调度过程中，持续返回空行（非流式请求）或 SSE keep-alive 注释（: keep-alive，流式请求）。如果您在自己解析 HTTP 响应，请注意处理这些空行或注释。\n[faq 10 end]\n[faq 11 begin]\n是否支持 LangChain？\n支持。LangChain 支持 OpenAI API 接口，而 DeepSeek API 接口与 OpenAI 兼容。您可以下载以下代码文件并替换代码中的 API Key，实现在 LangChain 中调用 DeepSeek API。\n\n[deepseek_langchain.py](https://cdn.deepseek.com/api-docs/deepseek_langchain.py)\n[faq 11 end]\n[faq 12 begin]\n如何离线计算 Tokens 用量？\n请参考 [Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)\n[faq 12 end]\n\n下面是用户问题：\n今天星期几&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>问答 - 定制 - 指令遵循</td>
<td>USER</td>
<td>0.6</td>
<td>7 / 10</td>
<td>6 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 指令遵循</td>
<td>USER</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
</tbody></table>
<h4 id="小结-2"><a href="#小结-2" class="headerlink" title="小结"></a>小结</h4><p>希望 DeepSeek 对提示词中指令遵循效果更好时，可以使用用户提示词（略微提升），或降低温度（效果明显）。</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>问答 - 定制 - 指令遵循</td>
<td>SYSTEM</td>
<td>0.6</td>
<td>6 / 10</td>
<td>5 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 指令遵循</td>
<td>SYSTEM</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 指令遵循</td>
<td>USER</td>
<td>0.6</td>
<td>7 / 10</td>
<td>6 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 指令遵循</td>
<td>USER</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
</tbody></table>
<h3 id="2-2-2-多轮对话"><a href="#2-2-2-多轮对话" class="headerlink" title="2.2.2 多轮对话"></a>2.2.2 多轮对话</h3><h4 id="测试-3"><a href="#测试-3" class="headerlink" title="测试"></a>测试</h4><p>使用定制版提示词，分别测试作为系统提示词，以及用户提示词放在不同位置时，在不同温度下，多轮对话之后，问一个与知识库中问题不相关，但可以从答案中总结到的知识：<code>流式是什么？还有什么式？</code>，预期引用 <code>faq</code> 中第九个问题答案作答，并依旧遵循指令中的相关约束。</p>
<h5 id="SYSTEM-3"><a href="#SYSTEM-3" class="headerlink" title="SYSTEM"></a>SYSTEM</h5><p><code>system_prompt.txt</code></p>
<pre><code class="txt">请你扮演一个无情的答题机器人，能回答与题库里内容相关的问题，除此之外一律回答不知道。

回答时需注意：
1. 今天是2025年3月23日。
2. 回答内容中不能提到题库。
3. 与题库中内容无关的问题（如：你是谁）不用思考，直接回答不知道。

以下是题库内容，每道题都是[faq X begin]...[faq X end]格式的，X代表题目的数字索引，第一行代表问题，之后内容为答案。请在回答时在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。
[faq 1 begin]
账号无法登录
您账号近期的行为可能触发了我们的自动化风控策略，导致我们暂时关闭了您对账号的访问权限。如需申诉，请填写[问卷](https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg)，我们会尽快处理。
[faq 1 end]
[faq 2 begin]
邮箱无法注册
如果您在注册时，收到错误提示“注册失败，暂不支持该邮箱域名注册。”，这是因为您的邮箱不被 DeepSeek 支持，请切换邮箱服务提供商。如仍有问题，请联系 service@deepseek.com。
[faq 2 end]
[faq 3 begin]
个人实名认证与企业实名认证有什么区别？
个人实名认证账号与企业实名认证账号在用户权益和产品功能上目前没有区别，但认证方式和所需材料有所不同。根据合规要求，请以您账号的实际使用情况进行认证。
[faq 3 end]
[faq 4 begin]
企业实名账号可以更改为个人账号吗？
企业实名认证账号不可变更为个人认证或其他企业。
[faq 4 end]
[faq 5 begin]
如何充值？
在线充值：完成实名认证后，您可以在充值页使用支付宝/微信进行在线充值。您可以在账单页查询充值结果。

对公汇款：对公汇款仅支持企业用户。完成企业实名认证后，可获取专属汇款账号，向专属汇款账号进行打款。为保证汇款顺利进行，请确保汇款方开户名称与开放平台实名认证名称一致。我方银行账户到账后，汇款金额将在 10 分钟- 1 小时左右自动转入您的开放平台账户，如未及时收到，请联系我们。
[faq 5 end]
[faq 6 begin]
余额是否会过期？
充值余额不会失效过期。赠送余额的有效期您可以在[账单页](https://platform.deepseek.com/transactions)查看。
[faq 6 end]
[faq 7 begin]
如何申请发票？
请访问[账单](https://platform.deepseek.com/transactions)页，点击发票管理，申请发票。企业用户开具发票时，发票抬头需要与实名认证信息一致，目前开发票的周期为 7 个工作日左右。
[faq 7 end]
[faq 8 begin]
调用模型时的并发限制是多少？是否可以提高账号的并发上限？
当前阶段，我们没有按照用户设置硬性并发上限。在系统总负载量较高时，基于系统负载和用户短时历史用量的动态限流模型可能会导致用户收到 503 或 429 错误码。

目前暂不支持针对单个账号提高并发上限，感谢您的理解。
[faq 8 end]
[faq 9 begin]
为什么我感觉 API 返回比网页端慢
网页端默认使用流式输出（stream=true），即模型每输出一个字符，都会增量地显示在前端。

API 默认使用非流式输出（stream=false），即模型在所有内容输出完后，才会返回给用户。您可以通过开启 API 的 stream 模式来提升交互性。
[faq 9 end]
[faq 10 begin]
为什么调用 API 时，持续返回空行？
为了保持 TCP 连接不会因超时中断，我们会在请求等待调度过程中，持续返回空行（非流式请求）或 SSE keep-alive 注释（: keep-alive，流式请求）。如果您在自己解析 HTTP 响应，请注意处理这些空行或注释。
[faq 10 end]
[faq 11 begin]
是否支持 LangChain？
支持。LangChain 支持 OpenAI API 接口，而 DeepSeek API 接口与 OpenAI 兼容。您可以下载以下代码文件并替换代码中的 API Key，实现在 LangChain 中调用 DeepSeek API。

[deepseek_langchain.py](https://cdn.deepseek.com/api-docs/deepseek_langchain.py)
[faq 11 end]
[faq 12 begin]
如何离线计算 Tokens 用量？
请参考 [Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)
[faq 12 end]</code></pre>
<p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;今天星期几&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;不知道&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;token 是什么&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;不知道&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;token 怎么算&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;您可以参考[Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)了解如何计算Tokens的用量[citation:12]。&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;流式是什么？还有什么式？&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<p>温度为 0 时，回答的内容基本还都源于知识库，但流式接口以及非流式接口分别只有一个回答包含了引用信息；</p>
<p>温度为 0.6 时，回答中出现了知识库以外的知识，但同时也出现了对第10条的引申引用，以及对第11条的错误引用。</p>
<p>对于未引用知识库来源的回答、引用了错误引用的回答，以及出现了知识库以外知识的回答，认为是与预期不符合的回答，多次测试结果如下：</p>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>问答 - 定制 - 多轮对话</td>
<td>SYSTEM</td>
<td>0.6</td>
<td>7 / 10</td>
<td>5 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>SYSTEM</td>
<td>0</td>
<td>1 / 10</td>
<td>1 / 10</td>
</tr>
</tbody></table>
<h5 id="USER-3"><a href="#USER-3" class="headerlink" title="USER"></a>USER</h5><ul>
<li>用户提示词在多轮对话第一条时</li>
</ul>
<p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;请你扮演一个无情的答题机器人，能回答与题库里内容相关的问题，除此之外一律回答不知道。\n\n回答时需注意：\n1. 今天是2025年3月23日。\n2. 回答内容中不能提到题库。\n3. 与题库中内容无关的问题（如：你是谁）不用思考，直接回答不知道。\n\n以下是题库内容，每道题都是[faq X begin]...[faq X end]格式的，X代表题目的数字索引，第一行代表问题，之后内容为答案。请在回答时在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。\n[faq 1 begin]\n账号无法登录\n您账号近期的行为可能触发了我们的自动化风控策略，导致我们暂时关闭了您对账号的访问权限。如需申诉，请填写[问卷](https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg)，我们会尽快处理。\n[faq 1 end]\n[faq 2 begin]\n邮箱无法注册\n如果您在注册时，收到错误提示“注册失败，暂不支持该邮箱域名注册。”，这是因为您的邮箱不被 DeepSeek 支持，请切换邮箱服务提供商。如仍有问题，请联系 service@deepseek.com。\n[faq 2 end]\n[faq 3 begin]\n个人实名认证与企业实名认证有什么区别？\n个人实名认证账号与企业实名认证账号在用户权益和产品功能上目前没有区别，但认证方式和所需材料有所不同。根据合规要求，请以您账号的实际使用情况进行认证。\n[faq 3 end]\n[faq 4 begin]\n企业实名账号可以更改为个人账号吗？\n企业实名认证账号不可变更为个人认证或其他企业。\n[faq 4 end]\n[faq 5 begin]\n如何充值？\n在线充值：完成实名认证后，您可以在充值页使用支付宝/微信进行在线充值。您可以在账单页查询充值结果。\n\n对公汇款：对公汇款仅支持企业用户。完成企业实名认证后，可获取专属汇款账号，向专属汇款账号进行打款。为保证汇款顺利进行，请确保汇款方开户名称与开放平台实名认证名称一致。我方银行账户到账后，汇款金额将在 10 分钟- 1 小时左右自动转入您的开放平台账户，如未及时收到，请联系我们。\n[faq 5 end]\n[faq 6 begin]\n余额是否会过期？\n充值余额不会失效过期。赠送余额的有效期您可以在[账单页](https://platform.deepseek.com/transactions)查看。\n[faq 6 end]\n[faq 7 begin]\n如何申请发票？\n请访问[账单](https://platform.deepseek.com/transactions)页，点击发票管理，申请发票。企业用户开具发票时，发票抬头需要与实名认证信息一致，目前开发票的周期为 7 个工作日左右。\n[faq 7 end]\n[faq 8 begin]\n调用模型时的并发限制是多少？是否可以提高账号的并发上限？\n当前阶段，我们没有按照用户设置硬性并发上限。在系统总负载量较高时，基于系统负载和用户短时历史用量的动态限流模型可能会导致用户收到 503 或 429 错误码。\n\n目前暂不支持针对单个账号提高并发上限，感谢您的理解。\n[faq 8 end]\n[faq 9 begin]\n为什么我感觉 API 返回比网页端慢\n网页端默认使用流式输出（stream=true），即模型每输出一个字符，都会增量地显示在前端。\n\nAPI 默认使用非流式输出（stream=false），即模型在所有内容输出完后，才会返回给用户。您可以通过开启 API 的 stream 模式来提升交互性。\n[faq 9 end]\n[faq 10 begin]\n为什么调用 API 时，持续返回空行？\n为了保持 TCP 连接不会因超时中断，我们会在请求等待调度过程中，持续返回空行（非流式请求）或 SSE keep-alive 注释（: keep-alive，流式请求）。如果您在自己解析 HTTP 响应，请注意处理这些空行或注释。\n[faq 10 end]\n[faq 11 begin]\n是否支持 LangChain？\n支持。LangChain 支持 OpenAI API 接口，而 DeepSeek API 接口与 OpenAI 兼容。您可以下载以下代码文件并替换代码中的 API Key，实现在 LangChain 中调用 DeepSeek API。\n\n[deepseek_langchain.py](https://cdn.deepseek.com/api-docs/deepseek_langchain.py)\n[faq 11 end]\n[faq 12 begin]\n如何离线计算 Tokens 用量？\n请参考 [Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)\n[faq 12 end]&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;今天星期几&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;不知道&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;token 是什么&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;不知道&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;token 怎么算&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;您可以参考[Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)了解如何计算Tokens的用量[citation:12]。&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;流式是什么？还有什么式？&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 第一条</td>
<td>0.6</td>
<td>8 / 10</td>
<td>9 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 第一条</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
</tbody></table>
<ul>
<li>用户提示词在多轮对话末尾，用户最后一个问题之前时</li>
</ul>
<p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;今天星期几&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;不知道&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;token 是什么&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;不知道&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;token 怎么算&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;您可以参考[Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)了解如何计算Tokens的用量[citation:12]。&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;请你扮演一个无情的答题机器人，能回答与题库里内容相关的问题，除此之外一律回答不知道。\n\n回答时需注意：\n1. 今天是2025年3月23日。\n2. 回答内容中不能提到题库。\n3. 与题库中内容无关的问题（如：你是谁）不用思考，直接回答不知道。\n\n以下是题库内容，每道题都是[faq X begin]...[faq X end]格式的，X代表题目的数字索引，第一行代表问题，之后内容为答案。请在回答时在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。\n[faq 1 begin]\n账号无法登录\n您账号近期的行为可能触发了我们的自动化风控策略，导致我们暂时关闭了您对账号的访问权限。如需申诉，请填写[问卷](https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg)，我们会尽快处理。\n[faq 1 end]\n[faq 2 begin]\n邮箱无法注册\n如果您在注册时，收到错误提示“注册失败，暂不支持该邮箱域名注册。”，这是因为您的邮箱不被 DeepSeek 支持，请切换邮箱服务提供商。如仍有问题，请联系 service@deepseek.com。\n[faq 2 end]\n[faq 3 begin]\n个人实名认证与企业实名认证有什么区别？\n个人实名认证账号与企业实名认证账号在用户权益和产品功能上目前没有区别，但认证方式和所需材料有所不同。根据合规要求，请以您账号的实际使用情况进行认证。\n[faq 3 end]\n[faq 4 begin]\n企业实名账号可以更改为个人账号吗？\n企业实名认证账号不可变更为个人认证或其他企业。\n[faq 4 end]\n[faq 5 begin]\n如何充值？\n在线充值：完成实名认证后，您可以在充值页使用支付宝/微信进行在线充值。您可以在账单页查询充值结果。\n\n对公汇款：对公汇款仅支持企业用户。完成企业实名认证后，可获取专属汇款账号，向专属汇款账号进行打款。为保证汇款顺利进行，请确保汇款方开户名称与开放平台实名认证名称一致。我方银行账户到账后，汇款金额将在 10 分钟- 1 小时左右自动转入您的开放平台账户，如未及时收到，请联系我们。\n[faq 5 end]\n[faq 6 begin]\n余额是否会过期？\n充值余额不会失效过期。赠送余额的有效期您可以在[账单页](https://platform.deepseek.com/transactions)查看。\n[faq 6 end]\n[faq 7 begin]\n如何申请发票？\n请访问[账单](https://platform.deepseek.com/transactions)页，点击发票管理，申请发票。企业用户开具发票时，发票抬头需要与实名认证信息一致，目前开发票的周期为 7 个工作日左右。\n[faq 7 end]\n[faq 8 begin]\n调用模型时的并发限制是多少？是否可以提高账号的并发上限？\n当前阶段，我们没有按照用户设置硬性并发上限。在系统总负载量较高时，基于系统负载和用户短时历史用量的动态限流模型可能会导致用户收到 503 或 429 错误码。\n\n目前暂不支持针对单个账号提高并发上限，感谢您的理解。\n[faq 8 end]\n[faq 9 begin]\n为什么我感觉 API 返回比网页端慢\n网页端默认使用流式输出（stream=true），即模型每输出一个字符，都会增量地显示在前端。\n\nAPI 默认使用非流式输出（stream=false），即模型在所有内容输出完后，才会返回给用户。您可以通过开启 API 的 stream 模式来提升交互性。\n[faq 9 end]\n[faq 10 begin]\n为什么调用 API 时，持续返回空行？\n为了保持 TCP 连接不会因超时中断，我们会在请求等待调度过程中，持续返回空行（非流式请求）或 SSE keep-alive 注释（: keep-alive，流式请求）。如果您在自己解析 HTTP 响应，请注意处理这些空行或注释。\n[faq 10 end]\n[faq 11 begin]\n是否支持 LangChain？\n支持。LangChain 支持 OpenAI API 接口，而 DeepSeek API 接口与 OpenAI 兼容。您可以下载以下代码文件并替换代码中的 API Key，实现在 LangChain 中调用 DeepSeek API。\n\n[deepseek_langchain.py](https://cdn.deepseek.com/api-docs/deepseek_langchain.py)\n[faq 11 end]\n[faq 12 begin]\n如何离线计算 Tokens 用量？\n请参考 [Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)\n[faq 12 end]&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;流式是什么？还有什么式？&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 倒第二</td>
<td>0.6</td>
<td>8 / 10</td>
<td>9 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 倒第二</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
</tbody></table>
<ul>
<li>用户提示词在最后，与用户问题在一起时</li>
</ul>
<p><code>chat_history.json</code></p>
<pre><code class="json">[
    {
        &quot;content&quot;: &quot;今天星期几&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;不知道&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;token 是什么&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;不知道&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;token 怎么算&quot;,
        &quot;role&quot;: &quot;user&quot;
    },
    {
        &quot;content&quot;: &quot;您可以参考[Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)了解如何计算Tokens的用量[citation:12]。&quot;,
        &quot;role&quot;: &quot;assistant&quot;
    },
    {
        &quot;content&quot;: &quot;请你扮演一个无情的答题机器人，能回答与题库里内容相关的问题，除此之外一律回答不知道。\n\n回答时需注意：\n1. 今天是2025年3月23日。\n2. 回答内容中不能提到题库。\n3. 与题库中内容无关的问题（如：你是谁）不用思考，直接回答不知道。\n\n以下是题库内容，每道题都是[faq X begin]...[faq X end]格式的，X代表题目的数字索引，第一行代表问题，之后内容为答案。请在回答时在句子末尾引用上下文。请按照引用编号[citation:X]的格式在答案中对应部分引用上下文。如果一句话源自多个上下文，请列出所有相关的引用编号，例如[citation:3][citation:5]，切记不要将引用集中在最后返回引用编号，而是在答案对应部分列出。\n[faq 1 begin]\n账号无法登录\n您账号近期的行为可能触发了我们的自动化风控策略，导致我们暂时关闭了您对账号的访问权限。如需申诉，请填写[问卷](https://trtgsjkv6r.feishu.cn/share/base/form/shrcnDOeld9kcILX57EdfRT8iDg)，我们会尽快处理。\n[faq 1 end]\n[faq 2 begin]\n邮箱无法注册\n如果您在注册时，收到错误提示“注册失败，暂不支持该邮箱域名注册。”，这是因为您的邮箱不被 DeepSeek 支持，请切换邮箱服务提供商。如仍有问题，请联系 service@deepseek.com。\n[faq 2 end]\n[faq 3 begin]\n个人实名认证与企业实名认证有什么区别？\n个人实名认证账号与企业实名认证账号在用户权益和产品功能上目前没有区别，但认证方式和所需材料有所不同。根据合规要求，请以您账号的实际使用情况进行认证。\n[faq 3 end]\n[faq 4 begin]\n企业实名账号可以更改为个人账号吗？\n企业实名认证账号不可变更为个人认证或其他企业。\n[faq 4 end]\n[faq 5 begin]\n如何充值？\n在线充值：完成实名认证后，您可以在充值页使用支付宝/微信进行在线充值。您可以在账单页查询充值结果。\n\n对公汇款：对公汇款仅支持企业用户。完成企业实名认证后，可获取专属汇款账号，向专属汇款账号进行打款。为保证汇款顺利进行，请确保汇款方开户名称与开放平台实名认证名称一致。我方银行账户到账后，汇款金额将在 10 分钟- 1 小时左右自动转入您的开放平台账户，如未及时收到，请联系我们。\n[faq 5 end]\n[faq 6 begin]\n余额是否会过期？\n充值余额不会失效过期。赠送余额的有效期您可以在[账单页](https://platform.deepseek.com/transactions)查看。\n[faq 6 end]\n[faq 7 begin]\n如何申请发票？\n请访问[账单](https://platform.deepseek.com/transactions)页，点击发票管理，申请发票。企业用户开具发票时，发票抬头需要与实名认证信息一致，目前开发票的周期为 7 个工作日左右。\n[faq 7 end]\n[faq 8 begin]\n调用模型时的并发限制是多少？是否可以提高账号的并发上限？\n当前阶段，我们没有按照用户设置硬性并发上限。在系统总负载量较高时，基于系统负载和用户短时历史用量的动态限流模型可能会导致用户收到 503 或 429 错误码。\n\n目前暂不支持针对单个账号提高并发上限，感谢您的理解。\n[faq 8 end]\n[faq 9 begin]\n为什么我感觉 API 返回比网页端慢\n网页端默认使用流式输出（stream=true），即模型每输出一个字符，都会增量地显示在前端。\n\nAPI 默认使用非流式输出（stream=false），即模型在所有内容输出完后，才会返回给用户。您可以通过开启 API 的 stream 模式来提升交互性。\n[faq 9 end]\n[faq 10 begin]\n为什么调用 API 时，持续返回空行？\n为了保持 TCP 连接不会因超时中断，我们会在请求等待调度过程中，持续返回空行（非流式请求）或 SSE keep-alive 注释（: keep-alive，流式请求）。如果您在自己解析 HTTP 响应，请注意处理这些空行或注释。\n[faq 10 end]\n[faq 11 begin]\n是否支持 LangChain？\n支持。LangChain 支持 OpenAI API 接口，而 DeepSeek API 接口与 OpenAI 兼容。您可以下载以下代码文件并替换代码中的 API Key，实现在 LangChain 中调用 DeepSeek API。\n\n[deepseek_langchain.py](https://cdn.deepseek.com/api-docs/deepseek_langchain.py)\n[faq 11 end]\n[faq 12 begin]\n如何离线计算 Tokens 用量？\n请参考 [Token 用量计算](https://api-docs.deepseek.com/zh-cn/quick_start/token_usage)\n[faq 12 end]\n\n下面是用户问题：\n流式是什么？还有什么式？&quot;,
        &quot;role&quot;: &quot;user&quot;
    }
]</code></pre>
<table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 问题内</td>
<td>0.6</td>
<td>9 / 10</td>
<td>8 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 问题内</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
</tbody></table>
<h4 id="小结-3"><a href="#小结-3" class="headerlink" title="小结"></a>小结</h4><table>
<thead>
<tr>
<th>场景</th>
<th>提示词位置</th>
<th>温度</th>
<th>流式接口结果</th>
<th>非流式接口结果</th>
</tr>
</thead>
<tbody><tr>
<td>问答 - 定制 - 多轮对话</td>
<td>SYSTEM</td>
<td>0.6</td>
<td>7 / 10</td>
<td>5 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>SYSTEM</td>
<td>0</td>
<td>1 / 10</td>
<td>1 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 第一条</td>
<td>0.6</td>
<td>8 / 10</td>
<td>9 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 第一条</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 倒第二</td>
<td>0.6</td>
<td>8 / 10</td>
<td>9 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 倒第二</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 问题内</td>
<td>0.6</td>
<td>9 / 10</td>
<td>8 / 10</td>
</tr>
<tr>
<td>问答 - 定制 - 多轮对话</td>
<td>USER 问题内</td>
<td>0</td>
<td>10 / 10</td>
<td>10 / 10</td>
</tr>
</tbody></table>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls"
                data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
            <ul id="audio-list" style="display:none">
                
                
                <li title='0' data-url='/statics/background.mp3'></li>
                
                    
            </ul>
            
            
            
    <div id='gitalk-container' class="comment link"
        data-ae='true'
        data-ci='54f9966b8cc9d2423ffd'
        data-cs='504574e4532bdfa77d3e4091637ff53558408ac2'
        data-r='AlphaHinex.github.io'
        data-o='AlphaHinex'
        data-a='AlphaHinex'
        data-d=''
    >留言</div>


            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="/img/hinex.jpg" height=300 width=300></img>
                    <p>Alpha Hinex</p>
                    <span>Stay Hungry. Stay Foolish.</span>
                    <dl>
                        <dd><a href="https://github.com/AlphaHinex" target="_blank"><span
                                    class=" iconfont icon-github"></span></a></dd>
                        <dd><a href="/whoami"><span class=" iconfont icon-wechat"></span></a></dd>
                        <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-stack-overflow"></span></a></dd>
                    </dl>
                </div>
                <ul>
                    <li><a href="/">314 <p>文章</p></a></li>
                    <li><a href="/categories">76 <p>分类</p></a></li>
                    <li><a href="/tags">153 <p>标签</p></a></li>
                </ul>
            </div>
            
            
            
            <div class="box sticky animated fadeInRight faster">
                <div id="toc" class="subbox">
                    <h4>目录</h4>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#TL-DR"><span class="toc-number">1.</span> <span class="toc-text">TL; DR</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#实验工具"><span class="toc-number">2.</span> <span class="toc-text">实验工具</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#场景1：官方示例提示库内容分类"><span class="toc-number">3.</span> <span class="toc-text">场景1：官方示例提示库内容分类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#测试"><span class="toc-number">3.1.</span> <span class="toc-text">测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SYSTEM"><span class="toc-number">3.1.1.</span> <span class="toc-text">SYSTEM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#USER"><span class="toc-number">3.1.2.</span> <span class="toc-text">USER</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#小结"><span class="toc-number">3.2.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#场景2：知识问答"><span class="toc-number">4.</span> <span class="toc-text">场景2：知识问答</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-官方联网搜索提示词"><span class="toc-number">4.1.</span> <span class="toc-text">2.1 官方联网搜索提示词</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Official-Prompts"><span class="toc-number">4.1.1.</span> <span class="toc-text">Official Prompts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#测试-1"><span class="toc-number">4.1.2.</span> <span class="toc-text">测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#小结-1"><span class="toc-number">4.1.3.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-定制提示词"><span class="toc-number">4.2.</span> <span class="toc-text">2.2 定制提示词</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-指令遵循"><span class="toc-number">4.2.1.</span> <span class="toc-text">2.2.1 指令遵循</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-多轮对话"><span class="toc-number">4.2.2.</span> <span class="toc-text">2.2.2 多轮对话</span></a></li></ol></li></ol></li></ol>
                </div>
            </div>
            
            
        </div>
    </div>
</div>

    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p>本站访客数<span id="busuanzi_value_site_uv"></span>人次 / 本站总访问量<span id="busuanzi_value_site_pv"></span>次</p>
    <p class="copyright" id="copyright">
        &copy; 2025
        <span class="gradient-text">
            Alpha Hinex
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
        Theme
        <span class="gradient-text">
            <a href="https://github.com/TriDiamond/hexo-theme-obsidian" title="Obsidian" target="_blank" rel="noopener">Obsidian</a>
        </span>
        <small><a href="https://github.com/TriDiamond/hexo-theme-obsidian/blob/master/CHANGELOG.md" title="v1.4.3" target="_blank" rel="noopener">v1.4.3</a></small>
    </p>
</footer>

<script type="text/javascript" src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  MathJax.Hub.Config({
    "HTML-CSS": {
      preferredFont: "TeX",
      availableFonts: ["STIX", "TeX"],
      linebreaks: {
        automatic: true
      },
      EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"]
      ],
      processEscapes: true,
      ignoreClass: "tex2jax_ignore|dno",
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      noUndefined: {
        attributes: {
          mathcolor: "red",
          mathbackground: "#FFEEEE",
          mathsize: "90%"
        }
      },
      Macros: {
        href: "{}"
      }
    },
    messageStyle: "none"
  });
</script>
<script>
  function initialMathJax() {
    MathJax.Hub.Queue(function () {
      var all = MathJax.Hub.getAllJax(),
        i;
      // console.log(all);
      for (i = 0; i < all.length; i += 1) {
        console.log(all[i].SourceElement().parentNode)
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  }

  function reprocessMathJax() {
    if (typeof MathJax !== 'undefined') {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    }
  }
</script>



    
<link rel="stylesheet" href="/css/gitalk.css">

    
<script src="/js/gitalk.min.js"></script>



<script src="/js/jquery-3.4.1.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>


<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/typed.js/2.0.10/typed.min.js"></script>


<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/blueimp-md5/2.12.0/js/md5.min.js"></script>


<script src="/js/social-share.min.js"></script>


<script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/codemirror.min.js"></script>

    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/css/css.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/xml/xml.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/clike/clike.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/php/php.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/shell/shell.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/python/python.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/groovy/groovy.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/diff/diff.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/nginx/nginx.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/properties/properties.min.js"></script>




    
<script src="/js/busuanzi.min.js"></script>

    <script>
        $(document).ready(function () {
            if ($('span[id^="busuanzi_"]').length) {
                initialBusuanzi();
            }
        });
    </script>



<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/default-skin/default-skin.min.css">


<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="//www.googletagmanager.com/gtag/js?id=UA-69084811-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-69084811-1');
    </script>





<script>
    function initialTyped () {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ["Stay Hungry. Stay Foolish.", "常与同好争高下，莫与傻子论短长"],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>




</html>
