
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>镜像 Git 仓库，并保持同步 - Alpha Hinex&#39;s Blog</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Java, JavaScript, Spring, Html5, NoSQL, Docker, DevOps,git, mirror, prune, bare"> 
    <meta name="description" content="有 A、B 两个 git 仓库，想实现类似主从数据库的效果：

A 库作为主库提交 Commit 记录
B 库作为备份库，同步 A 库内容，并在不影响 A 库的情况下提供读取、分析等操作

假设

,"> 
    <meta name="author" content="Alpha Hinex"> 

    <meta name="msvalidate.01" content="D769824B4D44C14A4C777A6EC4E898FC"> 
    <meta name="baidu-site-verification" content="TimiEK4Y9V"> 
    <meta name="google-site-verification" content="B-WME81HWSnMIkZZxcxv7bVI6yjbpAFKvifi2X-EkzQ"> 

    <link rel="alternative" href="atom.xml" title="Alpha Hinex&#39;s Blog" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link href="https://fonts.loli.net/css?family=Roboto+Mono|Rubik&display=swap" rel="stylesheet">
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/animate.css/3.7.2/animate.min.css">

    
<link rel="stylesheet" href="/css/share.min.css">

    
<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/codemirror.min.css">

    
<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

<meta name="generator" content="Hexo 4.2.1"></head>


<body class="loading">
    <div class="loader">
        <div class="la-ball-atom la-2x">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <span id="config-title" style="display:none">Alpha Hinex&#39;s Blog</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt="" data-url="https://AlphaHinex.github.io">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">镜像 Git 仓库，并保持同步</h3>
        <div class="social">
            <!--        <div class="like-icon">-->
            <!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
            <!--        </div>-->
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/contents/covers/mirror-git-repo-and-keep-sync.png);">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                <a href="/categories/Git"><b>「
                    </b>GIT<b> 」</b></a>
                
                二月 26, 2023
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2023/02/26/mirror-git-repo-and-keep-sync/" title="镜像 Git 仓库，并保持同步" class="">镜像 Git 仓库，并保持同步</a>
            </h3>
            
            <p class="post-count animated fadeInDown">
                
                <span>
                    <b class="iconfont icon-text2"></b> <i>文章字数</i>
                    7.4k
                </span>
                
                
                <span>
                    <b class="iconfont icon-timer__s"></b> <i>阅读约需</i>
                    7 mins.
                </span>
                
                
                
                <span id="busuanzi_page_pv_container" style="display: flex;">
                    <b class="iconfont icon-read"></b> <i>阅读次数</i>
                    <span id="busuanzi_value_page_pv"></span>
                </span>
                
            </p>
            
            
            <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/Git/" rel="tag">Git</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <p>有 A、B 两个 git 仓库，想实现类似主从数据库的效果：</p>
<ul>
<li>A 库作为主库提交 Commit 记录</li>
<li>B 库作为备份库，同步 A 库内容，并在不影响 A 库的情况下提供读取、分析等操作</li>
</ul>
<p>假设</p>
<ul>
<li>A 库地址为 <a href="http://git/repo/source.git" target="_blank" rel="noopener">http://git/repo/source.git</a></li>
<li>B 库地址为：<a href="http://another/git/sourcemirror.git" target="_blank" rel="noopener">http://another/git/sourcemirror.git</a></li>
</ul>
<h1 id="TL-DR"><a href="#TL-DR" class="headerlink" title="TL;DR"></a>TL;DR</h1><p>全量镜像，执行一次：</p>
<pre><code class="bash">rm -rf source.git
git clone --mirror http://git/repo/source.git
cd source.git
git remote add target http://another/git/sourcemirror.git
git push --mirror target </code></pre>
<p>增量同步，定时执行：</p>
<pre><code class="bash">git --git-dir=/path/to/source.git fetch --prune
git --git-dir=/path/to/source.git push --mirror target</code></pre>
<h1 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h1><p>实现原理如下图：</p>
<p><img src="/contents/covers/mirror-git-repo-and-keep-sync.png" alt="mirror-then-sync"></p>
<p>大致分为三个步骤：</p>
<ol>
<li>全量同步</li>
<li>增量更新</li>
<li>同步变化</li>
</ol>
<p>其中 2/3 步可以放在一起定时执行，起到保持同步的作用，并避免了每次同步全量更新，提高同步效率。</p>
<h2 id="Step-1-克隆镜像仓库"><a href="#Step-1-克隆镜像仓库" class="headerlink" title="Step 1 克隆镜像仓库"></a>Step 1 克隆镜像仓库</h2><p>在进行仓库的全量镜像时，我们不仅希望同步某些特定分支的提交记录，而是想完整的镜像源仓库的所有分支、tag 等信息。</p>
<p>这时，通常用来更新、提交代码的 clone、pull、push 操作就不太适合了。</p>
<p>Git 中有一个裸仓库（bare Git reposiotry）的概念，<code>git-clone</code> 的 Manual 中对此有如下描述：</p>
<pre><code class="manual">--bare
    Make a bare Git repository. That is, instead of creating
    &lt;directory&gt; and placing the administrative files in
    &lt;directory&gt;/.git, make the &lt;directory&gt; itself the $GIT_DIR. This
    obviously implies the --no-checkout because there is nowhere to
    check out the working tree. Also the branch heads at the remote are
    copied directly to corresponding local branch heads, without
    mapping them to refs/remotes/origin/. When this option is used,
    neither remote-tracking branches nor the related configuration
    variables are created.</code></pre>
<p>即在添加了 <code>--bare</code> 参数进行 <code>git clone</code> 时，我们得到的不再是一个包含了所有已提交文件最新版本的工作空间，而是原本存在于工作空间 <code>.git</code> 路径下的内容本身。</p>
<h3 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h3><p>举个例子，在 <code>git clone --mirror http://git/repo/source.git</code> 之后，我们得到的是一个名为 <code>source</code> 的文件夹，路径下包括如下内容：</p>
<pre><code class="bash">➜  source git:(master) tree -a -L 2
.
├── .git
│   ├── COMMIT_EDITMSG
│   ├── HEAD
│   ├── ORIG_HEAD
│   ├── config
│   ├── description
│   ├── hooks
│   ├── index
│   ├── info
│   ├── logs
│   ├── objects
│   ├── packed-refs
│   └── refs
├── README.md
├── Test.css
├── Test.groovy
├── Test.java
├── Test.js
├── Test.less
├── Test.scss
├── Test.vue
├── test.properties
└── test.yaml

6 directories, 17 files</code></pre>
<h3 id="git-clone-–bare"><a href="#git-clone-–bare" class="headerlink" title="git clone –bare"></a>git clone –bare</h3><p><code>git clone --bare http://git/repo/source.git</code> 之后，我们得到的是一个名为 <code>source.git</code> 的文件夹，路径下包括如下内容：</p>
<pre><code class="bash">➜  source.git git:(master) tree -L 1
.
├── FETCH_HEAD
├── HEAD
├── config
├── description
├── hooks
├── info
├── objects
├── packed-refs
└── refs

4 directories, 5 files</code></pre>
<p>可以看到，克隆相同的仓库，裸仓库中不包含我们提交的文件，只包含 Git 自己生成的文件。</p>
<h3 id="mirror-vs-bare"><a href="#mirror-vs-bare" class="headerlink" title="--mirror vs --bare"></a><code>--mirror</code> vs <code>--bare</code></h3><p>与 <code>--bare</code> 参数类似，<code>git-clone</code> 还提供了另一个参数 —— <code>--mirror</code>：</p>
<pre><code class="manual">--mirror
    Set up a mirror of the source repository. This implies --bare.
    Compared to --bare, --mirror not only maps local branches of the
    source to local branches of the target, it maps all refs (including
    remote-tracking branches, notes etc.) and sets up a refspec
    configuration such that all these refs are overwritten by a git
    remote update in the target repository.</code></pre>
<p>使用了 <code>--mirror</code> 参数，相当于同时指定了 <code>--bare</code>，也会得到类似上面 <code>$GIT_DIR</code> 的目录结构。</p>
<p>与 <code>--bare</code> 不同的是，通过 <code>--mirror</code> 参数克隆出来的裸仓库，是可以后续增量更新的。</p>
<p><strong>所以如果只希望进行一次性的仓库迁移，使用哪个参数都可以；如果希望持续更新，需要使用 <code>--mirror</code>。</strong></p>
<h2 id="Step-2-同步源仓库并进行修剪"><a href="#Step-2-同步源仓库并进行修剪" class="headerlink" title="Step 2 同步源仓库并进行修剪"></a>Step 2 同步源仓库并进行修剪</h2><h3 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h3><p>裸仓库的更新，与普通 git 仓库的更新也有区别。</p>
<p>通常我们使用 git pull 拉取最新代码，而 pull 操作相当于先执行了 fetch 操作，再接着执行 merge。</p>
<p>裸仓库中因为没有工作目录，没有办法执行 merge 操作，所以可以单独使用 fetch 进行更新，或使用 <code>--mirror</code> 参数文档中提到的 <code>git remote udpate</code> 命令更新。</p>
<h3 id="修剪"><a href="#修剪" class="headerlink" title="修剪"></a>修剪</h3><p>同步时我们不仅希望同步增加的内容，也希望同步源仓库中减少的内容（如分支、tag等），这时需要为更新命令增加 <code>--prune</code> 参数，以修剪已不存在的内容。</p>
<pre><code class="manual">-p, --prune
    Before fetching, remove any remote-tracking references that no
    longer exist on the remote. Tags are not subject to pruning if they
    are fetched only because of the default tag auto-following or due
    to a --tags option. However, if tags are fetched due to an explicit
    refspec (either on the command line or in the remote configuration,
    for example if the remote was cloned with the --mirror option),
    then they are also subject to pruning. Supplying --prune-tags is a
    shorthand for providing the tag refspec.

    See the PRUNING section below for more details.</code></pre>
<h3 id="git-dir"><a href="#git-dir" class="headerlink" title="--git-dir"></a><code>--git-dir</code></h3><p>同步操作会定时执行，为方便计划任务执行脚本，可在命令中指定 <code>--git-dir</code> 参数，设定 git 仓库路径，方便脚本在任意位置执行。</p>
<pre><code class="manual">--git-dir=&lt;path&gt;
    Set the path to the repository. This can also be controlled by
    setting the GIT_DIR environment variable. It can be an absolute
    path or relative path to current working directory.</code></pre>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>同步并修剪，可使用下面任一方式执行：</p>
<pre><code class="bash">$ git --git-dir=/path/to/source.git fetch --prune</code></pre>
<p>或</p>
<pre><code class="bash">$ git --git-dir=/path/to/source.git remote update origin --prune</code></pre>
<h2 id="Step-3-推送变更"><a href="#Step-3-推送变更" class="headerlink" title="Step 3 推送变更"></a>Step 3 推送变更</h2><p>克隆镜像仓库，或更新变更之后，可以通过 push 命令将内容推送至 B 仓库。在镜像仓库内执行 push 时，相当于默认指定了 <code>--mirror</code> 参数：</p>
<pre><code class="manual">--mirror
    Instead of naming each ref to push, specifies that all refs under
    refs/ (which includes but is not limited to refs/heads/,
    refs/remotes/, and refs/tags/) be mirrored to the remote
    repository. Newly created local refs will be pushed to the remote
    end, locally updated refs will be force updated on the remote end,
    and deleted refs will be removed from the remote end. This is the
    default if the configuration option remote.&lt;remote&gt;.mirror is set.</code></pre>
<p>故推送变更可使用</p>
<pre><code class="bash">$ git --git-dir=/path/to/source.git push target</code></pre>
<p>或</p>
<pre><code class="bash">$ git --git-dir=/path/to/source.git push --mirror target</code></pre>
<blockquote>
<p>注意：指定了 <code>--mirror</code> 参数的推送相当于强制推送，即使目标仓库中原本存在一些与源库不一致的内容，也会将两个仓库的内容同步为一致的。 如果有分支被保护不允许强制提交，推送可能会失败。需要临时允许强制提交，待完成同步后，再禁止强制提交即可。</p>
</blockquote>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls"
                data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
            <ul id="audio-list" style="display:none">
                
                
                <li title='0' data-url='/statics/background.mp3'></li>
                
                    
            </ul>
            
            
            
    <div id='gitalk-container' class="comment link"
        data-ae='true'
        data-ci='54f9966b8cc9d2423ffd'
        data-cs='504574e4532bdfa77d3e4091637ff53558408ac2'
        data-r='AlphaHinex.github.io'
        data-o='AlphaHinex'
        data-a='AlphaHinex'
        data-d=''
    >留言</div>


            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="/img/hinex.jpg" height=300 width=300></img>
                    <p>Alpha Hinex</p>
                    <span>Stay Hungry. Stay Foolish.</span>
                    <dl>
                        <dd><a href="https://github.com/AlphaHinex" target="_blank"><span
                                    class=" iconfont icon-github"></span></a></dd>
                        <dd><a href="/whoami"><span class=" iconfont icon-wechat"></span></a></dd>
                        <dd><a href="" target="_blank"><span
                                    class=" iconfont icon-stack-overflow"></span></a></dd>
                    </dl>
                </div>
                <ul>
                    <li><a href="/">331 <p>文章</p></a></li>
                    <li><a href="/categories">78 <p>分类</p></a></li>
                    <li><a href="/tags">159 <p>标签</p></a></li>
                </ul>
            </div>
            
            
            
            <div class="box sticky animated fadeInRight faster">
                <div id="toc" class="subbox">
                    <h4>目录</h4>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#TL-DR"><span class="toc-number">1.</span> <span class="toc-text">TL;DR</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#实现原理"><span class="toc-number">2.</span> <span class="toc-text">实现原理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-1-克隆镜像仓库"><span class="toc-number">2.1.</span> <span class="toc-text">Step 1 克隆镜像仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git-clone"><span class="toc-number">2.1.1.</span> <span class="toc-text">git clone</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-clone-–bare"><span class="toc-number">2.1.2.</span> <span class="toc-text">git clone –bare</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mirror-vs-bare"><span class="toc-number">2.1.3.</span> <span class="toc-text">--mirror vs --bare</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-2-同步源仓库并进行修剪"><span class="toc-number">2.2.</span> <span class="toc-text">Step 2 同步源仓库并进行修剪</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#同步"><span class="toc-number">2.2.1.</span> <span class="toc-text">同步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修剪"><span class="toc-number">2.2.2.</span> <span class="toc-text">修剪</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#git-dir"><span class="toc-number">2.2.3.</span> <span class="toc-text">--git-dir</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#小结"><span class="toc-number">2.2.4.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Step-3-推送变更"><span class="toc-number">2.3.</span> <span class="toc-text">Step 3 推送变更</span></a></li></ol></li></ol>
                </div>
            </div>
            
            
        </div>
    </div>
</div>

    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p>本站访客数<span id="busuanzi_value_site_uv"></span>人次 / 本站总访问量<span id="busuanzi_value_site_pv"></span>次</p>
    <p class="copyright" id="copyright">
        &copy; 2026
        <span class="gradient-text">
            Alpha Hinex
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
        Theme
        <span class="gradient-text">
            <a href="https://github.com/TriDiamond/hexo-theme-obsidian" title="Obsidian" target="_blank" rel="noopener">Obsidian</a>
        </span>
        <small><a href="https://github.com/TriDiamond/hexo-theme-obsidian/blob/master/CHANGELOG.md" title="v1.4.3" target="_blank" rel="noopener">v1.4.3</a></small>
    </p>
</footer>

<script type="text/javascript" src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  MathJax.Hub.Config({
    "HTML-CSS": {
      preferredFont: "TeX",
      availableFonts: ["STIX", "TeX"],
      linebreaks: {
        automatic: true
      },
      EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"]
      ],
      processEscapes: true,
      ignoreClass: "tex2jax_ignore|dno",
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      noUndefined: {
        attributes: {
          mathcolor: "red",
          mathbackground: "#FFEEEE",
          mathsize: "90%"
        }
      },
      Macros: {
        href: "{}"
      }
    },
    messageStyle: "none"
  });
</script>
<script>
  function initialMathJax() {
    MathJax.Hub.Queue(function () {
      var all = MathJax.Hub.getAllJax(),
        i;
      // console.log(all);
      for (i = 0; i < all.length; i += 1) {
        console.log(all[i].SourceElement().parentNode)
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  }

  function reprocessMathJax() {
    if (typeof MathJax !== 'undefined') {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    }
  }
</script>



    
<link rel="stylesheet" href="/css/gitalk.css">

    
<script src="/js/gitalk.min.js"></script>



<script src="/js/jquery-3.4.1.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>


<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/typed.js/2.0.10/typed.min.js"></script>


<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/blueimp-md5/2.12.0/js/md5.min.js"></script>


<script src="/js/social-share.min.js"></script>


<script src="https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/codemirror.min.js"></script>

    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/css/css.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/xml/xml.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/clike/clike.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/php/php.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/shell/shell.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/python/python.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/groovy/groovy.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/diff/diff.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/nginx/nginx.min.js"></script>


    
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/codemirror/5.48.4/mode/properties/properties.min.js"></script>




    
<script src="/js/busuanzi.min.js"></script>

    <script>
        $(document).ready(function () {
            if ($('span[id^="busuanzi_"]').length) {
                initialBusuanzi();
            }
        });
    </script>



<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/default-skin/default-skin.min.css">


<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//mirrors.sustech.edu.cn/cdnjs/ajax/libs/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="//www.googletagmanager.com/gtag/js?id=UA-69084811-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-69084811-1');
    </script>





<script>
    function initialTyped () {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ["Stay Hungry. Stay Foolish.", "常与同好争高下，莫与傻子论短长"],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>




</html>
