{"app":{"description":"","icon":"ğŸ¤–","icon_background":"#FFEAD5","mode":"advanced-chat","name":"é—¨è¯Šå¯¼è¯Š"},"kind":"app","version":"0.1.1","workflow":{"conversation_variables":[{"description":"åˆ¤æ–­æ˜¯å¦å¤„äºç¬¬ä¸€è½®å¯¹è¯","id":"6d5991a5-91ce-4bc5-b7a4-37653e56b44e","name":"is_first_message","value":1,"value_type":"number"},{"description":"æ‚£è€…çš„ç—‡çŠ¶ä¿¡æ¯","id":"03591dfd-cf51-4f9b-ba2f-1b81ac8f57cd","name":"symptom","value":"null","value_type":"string"},{"description":"æ¨èæ‚£è€…å‰å¾€çš„ç§‘å®¤","id":"b3dee087-6d05-4821-b44f-a2efbaee7a0e","name":"department","value":"","value_type":"string"},{"description":"æ‚£è€…çš„å¹´é¾„","id":"9c845d68-ad98-46b5-9f78-c5024b57530b","name":"age","value":"","value_type":"string"},{"description":"æ‚£è€…çš„æ€§åˆ«","id":"78460afc-5988-4052-bac8-981478cae6e5","name":"gender","value":"","value_type":"string"}],"environment_variables":[],"features":{"file_upload":{"image":{"enabled":false,"number_limits":3,"transfer_methods":["local_file","remote_url"]}},"opening_statement":"","retriever_resource":{"enabled":false},"sensitive_word_avoidance":{"enabled":false},"speech_to_text":{"enabled":false},"suggested_questions":[],"suggested_questions_after_answer":{"enabled":false},"text_to_speech":{"enabled":false,"language":"","voice":""}},"graph":{"edges":[{"data":{"isInIteration":false,"sourceType":"if-else","targetType":"template-transform"},"id":"1722948641356-false-1722948649406-target","source":"1722948641356","sourceHandle":"false","target":"1722948649406","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"template-transform","targetType":"answer"},"id":"1722948649406-source-1722948653559-target","source":"1722948649406","sourceHandle":"source","target":"1722948653559","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"if-else","targetType":"llm"},"id":"1722948641356-ec370d4a-2bdc-4a6b-8878-80d96b2f33d4-1722954831811-target","source":"1722948641356","sourceHandle":"ec370d4a-2bdc-4a6b-8878-80d96b2f33d4","target":"1722954831811","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"if-else","targetType":"llm"},"id":"1722948641356-91b1b418-e8f5-4c01-beff-4e44f4e464e0-1722954924720-target","source":"1722948641356","sourceHandle":"91b1b418-e8f5-4c01-beff-4e44f4e464e0","target":"1722954924720","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"llm","targetType":"assigner"},"id":"1722954924720-source-1722954934239-target","source":"1722954924720","sourceHandle":"source","target":"1722954934239","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"if-else","targetType":"llm"},"id":"1722948641356-29b927b2-c543-450a-b6ce-11630bdca300-1722955026661-target","source":"1722948641356","sourceHandle":"29b927b2-c543-450a-b6ce-11630bdca300","target":"1722955026661","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"llm","targetType":"variable-aggregator"},"id":"1722955046266-source-1722955082746-target","source":"1722955046266","sourceHandle":"source","target":"1722955082746","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"llm","targetType":"variable-aggregator"},"id":"1722955054068-source-1722955082746-target","source":"1722955054068","sourceHandle":"source","target":"1722955082746","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"assigner","targetType":"template-transform"},"id":"1722954934239-source-1722955163497-target","source":"1722954934239","sourceHandle":"source","target":"1722955163497","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"template-transform","targetType":"answer"},"id":"1722955163497-source-1722955184232-target","source":"1722955163497","sourceHandle":"source","target":"1722955184232","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"llm","targetType":"assigner"},"id":"1722954831811-source-1722955666307-target","source":"1722954831811","sourceHandle":"source","target":"1722955666307","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"assigner","targetType":"llm"},"id":"1722955666307-source-1722955046266-target","source":"1722955666307","sourceHandle":"source","target":"1722955046266","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"llm","targetType":"assigner"},"id":"1722955026661-source-1722955684908-target","source":"1722955026661","sourceHandle":"source","target":"1722955684908","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"assigner","targetType":"llm"},"id":"1722955684908-source-1722955054068-target","source":"1722955684908","sourceHandle":"source","target":"1722955054068","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"if-else","targetType":"llm"},"id":"1722948641356-3c185913-fa1f-4f8e-b2ee-ac003d0da6c3-1722955850138-target","source":"1722948641356","sourceHandle":"3c185913-fa1f-4f8e-b2ee-ac003d0da6c3","target":"1722955850138","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"llm","targetType":"assigner"},"id":"1722955850138-source-1722955855002-target","source":"1722955850138","sourceHandle":"source","target":"1722955855002","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"assigner","targetType":"llm"},"id":"1722955855002-source-1722955862857-target","source":"1722955855002","sourceHandle":"source","target":"1722955862857","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"llm","targetType":"variable-aggregator"},"id":"1722955862857-source-1722955082746-target","source":"1722955862857","sourceHandle":"source","target":"1722955082746","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"llm","targetType":"assigner"},"id":"17229568358470-source-17229568563440-target","source":"17229568358470","sourceHandle":"source","target":"17229568563440","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"assigner","targetType":"template-transform"},"id":"17229568563440-source-17229568595490-target","source":"17229568563440","sourceHandle":"source","target":"17229568595490","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"template-transform","targetType":"answer"},"id":"17229568595490-source-17229568606330-target","source":"17229568595490","sourceHandle":"source","target":"17229568606330","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"variable-aggregator","targetType":"if-else"},"id":"1722955082746-source-1722956878299-target","source":"1722955082746","sourceHandle":"source","target":"1722956878299","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"if-else","targetType":"llm"},"id":"1722956878299-false-17229568358470-target","source":"1722956878299","sourceHandle":"false","target":"17229568358470","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"if-else","targetType":"answer"},"id":"1722956878299-true-1722955144801-target","source":"1722956878299","sourceHandle":"true","target":"1722955144801","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"assigner","targetType":"assigner"},"id":"1722957594963-source-1722957638479-target","source":"1722957594963","sourceHandle":"source","target":"1722957638479","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"assigner","targetType":"assigner"},"id":"1722957638479-source-1722957636037-target","source":"1722957638479","sourceHandle":"source","target":"1722957636037","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"start","targetType":"if-else"},"id":"1722918342810-source-1722958736715-target","source":"1722918342810","sourceHandle":"source","target":"1722958736715","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"if-else","targetType":"parameter-extractor"},"id":"1722958736715-true-1722957436489-target","source":"1722958736715","sourceHandle":"true","target":"1722957436489","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"parameter-extractor","targetType":"assigner"},"id":"1722957436489-source-1722957594963-target","source":"1722957436489","sourceHandle":"source","target":"1722957594963","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"variable-aggregator","targetType":"if-else"},"id":"1722959274773-source-1722948641356-target","source":"1722959274773","sourceHandle":"source","target":"1722948641356","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"if-else","targetType":"variable-aggregator"},"id":"1722958736715-false-1722959274773-target","source":"1722958736715","sourceHandle":"false","target":"1722959274773","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"assigner","targetType":"variable-aggregator"},"id":"1722959303858-source-1722959274773-target","source":"1722959303858","sourceHandle":"source","target":"1722959274773","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"assigner","targetType":"code"},"id":"1722957636037-source-1722959549093-target","source":"1722957636037","sourceHandle":"source","target":"1722959549093","targetHandle":"target","type":"custom","zIndex":0},{"data":{"isInIteration":false,"sourceType":"code","targetType":"assigner"},"id":"1722959549093-source-1722959303858-target","source":"1722959549093","sourceHandle":"source","target":"1722959303858","targetHandle":"target","type":"custom","zIndex":0}],"nodes":[{"data":{"desc":"","selected":false,"title":"å¼€å§‹","type":"start","variables":[]},"height":54,"id":"1722918342810","position":{"x":1492.8571428571431,"y":287.7857142857143},"positionAbsolute":{"x":1492.8571428571431,"y":287.7857142857143},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"cases":[{"case_id":"ec370d4a-2bdc-4a6b-8878-80d96b2f33d4","conditions":[{"comparison_operator":"empty","id":"ad17c8cd-fada-4b8a-b23d-e6a523eb5fb5","value":"","varType":"string","variable_selector":["conversation","age"]},{"comparison_operator":"contains","id":"7ba1d46b-2165-41f2-8246-6d735c1c6a59","value":"null","varType":"string","variable_selector":["conversation","age"]}],"id":"ec370d4a-2bdc-4a6b-8878-80d96b2f33d4","logical_operator":"or"},{"case_id":"29b927b2-c543-450a-b6ce-11630bdca300","conditions":[{"comparison_operator":"empty","id":"bb1f2589-7dd8-4151-894c-681d9538075a","value":"","varType":"string","variable_selector":["conversation","gender"]},{"comparison_operator":"contains","id":"2fadeb8c-3bd7-47d3-89df-43522048808a","value":"null","varType":"string","variable_selector":["conversation","gender"]}],"id":"29b927b2-c543-450a-b6ce-11630bdca300","logical_operator":"or"},{"case_id":"3c185913-fa1f-4f8e-b2ee-ac003d0da6c3","conditions":[{"comparison_operator":"empty","id":"e5a73d4f-29b3-4f2f-9248-b58bed4394d0","value":"","varType":"string","variable_selector":["conversation","symptom"]},{"comparison_operator":"contains","id":"a06199e4-240e-4c1d-aa44-204d23f63d59","value":"null","varType":"string","variable_selector":["conversation","symptom"]}],"id":"3c185913-fa1f-4f8e-b2ee-ac003d0da6c3","logical_operator":"or"},{"case_id":"91b1b418-e8f5-4c01-beff-4e44f4e464e0","conditions":[{"comparison_operator":"empty","id":"6cd9a119-c2a6-4e32-9c1f-f7a83f8bf26b","value":"","varType":"string","variable_selector":["conversation","department"]}],"id":"91b1b418-e8f5-4c01-beff-4e44f4e464e0","logical_operator":"and"}],"desc":"","selected":false,"title":"IF/ELSE","type":"if-else"},"height":348,"id":"1722948641356","position":{"x":2766,"y":373.5},"positionAbsolute":{"x":2766,"y":373.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"desc":"","selected":false,"template":"","title":"æ¨¡æ¿è½¬æ¢","type":"template-transform","variables":[{"value_selector":["conversation","department"],"variable":"department"}]},"height":54,"id":"1722948649406","position":{"x":3070,"y":373.5},"positionAbsolute":{"x":3070,"y":373.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"answer":"æ¨èæ‚¨åˆ°ä»¥ä¸‹ç§‘å®¤æŒ‚å·ï¼š\n{}","desc":"","selected":false,"title":"ç›´æ¥å›å¤","type":"answer","variables":[]},"height":123,"id":"1722948653559","position":{"x":3374,"y":373.5},"positionAbsolute":{"x":3374,"y":373.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"context":{"enabled":false,"variable_selector":[]},"desc":"","memory":{"query_prompt_template":"è¿™æ˜¯èŠå¤©è®°å½•ï¼š{}","role_prefix":{"assistant":"","user":""},"window":{"enabled":false,"size":50}},"model":{"completion_params":{"temperature":0.7},"mode":"chat","name":"gpt-4o","provider":"openai"},"prompt_template":[{"id":"c965154a-3942-4f1d-98fb-7e34c97b15b6","role":"system","text":"<instructions>\n1. ä»èŠå¤©è®°å½•ä¸­æå–ç”¨æˆ·æåˆ°çš„è‡ªå·±çš„å¹´é¾„ã€‚\n2. å¦‚æœç”¨æˆ·åœ¨å¤šæ¡èŠå¤©è®°å½•ä¸­æåˆ°å¹´é¾„ï¼Œæå–æœ€æ–°çš„ä¸€æ¡è®°å½•ä¸­çš„å¹´é¾„ã€‚\n3. å¦‚æœèŠå¤©è®°å½•ä¸­æ²¡æœ‰æåˆ°å¹´é¾„ï¼Œè¾“å‡ºnullã€‚\n4. è¾“å‡ºç»“æœæ—¶ï¼Œä¸è¦åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚\n\næ³¨æ„äº‹é¡¹ï¼š\n- ç¡®ä¿æå–çš„å¹´é¾„æ˜¯ç”¨æˆ·æ˜ç¡®æåˆ°çš„ã€‚\n- å¦‚æœç”¨æˆ·æ²¡æœ‰æåˆ°å¹´é¾„ï¼Œè¾“å‡ºnullã€‚\n- ç¡®ä¿è¾“å‡ºçš„æ ¼å¼æ¸…æ™°ä¸”æ˜“äºç†è§£ã€‚\n</instructions>\n\n<examples>\n<example>\n<chat>\nç”¨æˆ·: æˆ‘ä»Šå¹´25å²äº†ã€‚\nç”¨æˆ·: æˆ‘å¼Ÿå¼Ÿæ¯”æˆ‘å°ä¸¤å²ã€‚\n</chat>\n<output>\n25\n</output>\n</example>\n\n<example>\n<chat>\nç”¨æˆ·: æˆ‘å¼Ÿå¼Ÿæ¯”æˆ‘å°ä¸¤å²ã€‚\n</chat>\n<output>\nnull\n</output>\n</example>\n\n<example>\n<chat>\nuser: æˆ‘æ˜¨å¤©åˆšè¿‡äº†30å²ç”Ÿæ—¥ã€‚\nassistant: å¥½çš„äº†è§£äº†ï¼Œè¯·æä¾›æ‚¨çš„æ€§åˆ«ã€‚\nuser: ç”·æ€§\nassistant: æœ‰ä»€ä¹ˆç—‡çŠ¶å—ï¼Ÿ\nuser: æœ€è¿‘ä¸¤å¤©æœ‰ç‚¹å‘çƒ§ï¼Œè‚šå­ç–¼\n</chat>\n<output>\n30\n</output>\n</example>\n</examples>"}],"selected":false,"title":"æå–æ‚£è€…å¹´é¾„","type":"llm","variables":[],"vision":{"configs":{"detail":"high"},"enabled":true}},"height":98,"id":"1722954831811","position":{"x":3070,"y":518},"positionAbsolute":{"x":3070,"y":518},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"context":{"enabled":false,"variable_selector":[]},"desc":"","model":{"completion_params":{"temperature":0.7},"mode":"chat","name":"gpt-4o","provider":"openai"},"prompt_template":[{"id":"5507a45e-b1cf-4610-b138-a14cb5d9deb1","role":"system","text":"<instructions>\n1. æ ¹æ®æä¾›çš„æ€§åˆ«ã€å¹´é¾„å’Œç—‡çŠ¶ï¼Œåˆ¤æ–­æ‚£è€…åº”è¯¥å»åŒ»é™¢çš„å“ªä¸ªç§‘å®¤å°±è¯Šã€‚\n2. é¦–å…ˆï¼Œåˆ†ææ‚£è€…çš„æ€§åˆ«å’Œå¹´é¾„ï¼Œè¿™å¯èƒ½ä¼šå½±å“æŸäº›ç—‡çŠ¶çš„ä¸¥é‡æ€§å’Œå¯èƒ½çš„ç§‘å®¤é€‰æ‹©ã€‚\n3. ç„¶åï¼Œä»”ç»†é˜…è¯»å¹¶ç†è§£æ‚£è€…çš„ç—‡çŠ¶ï¼Œç¡®å®šè¿™äº›ç—‡çŠ¶å¯èƒ½ä¸å“ªäº›ç§‘å®¤ç›¸å…³ã€‚\n4. æ ¹æ®å¸¸è§çš„åŒ»ç–—ç§‘å®¤å’Œå…¶å¯¹åº”çš„ç—‡çŠ¶ï¼ŒåŒ¹é…æ‚£è€…çš„ç—‡çŠ¶åˆ°æœ€åˆé€‚çš„ç§‘å®¤ã€‚\n5. è¾“å‡ºç»“æœæ—¶ï¼Œåªéœ€æä¾›ç§‘å®¤åç§°ï¼Œä¸è¦åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚\n</instructions>\n\n<examples>\n<example>\n<gender>ç”·</gender>\n<age>45</age>\n<symptoms>èƒ¸ç—›ï¼Œå‘¼å¸å›°éš¾</symptoms>\n<output>å¿ƒå†…ç§‘</output>\n</example>\n\n<example>\n<gender>å¥³</gender>\n<age>30</age>\n<symptoms>è…¹ç—›ï¼Œæ¶å¿ƒï¼Œå‘•å</symptoms>\n<output>æ¶ˆåŒ–å†…ç§‘</output>\n</example>\n\n<example>\n<gender>ç”·</gender>\n<age>60</age>\n<symptoms>å…³èŠ‚ç–¼ç—›ï¼Œè¡ŒåŠ¨å›°éš¾</symptoms>\n<output>éª¨ç§‘</output>\n</example>\n</examples>"},{"id":"ea4ea6c4-a9a7-49e5-a0a4-afcd829f185c","role":"user","text":"<æ‚£è€…ä¿¡æ¯>\nå¹´é¾„ï¼š{}\næ€§åˆ«ï¼š{}\nç—‡çŠ¶ï¼š{}"}],"selected":false,"title":"åˆ¤æ–­ç§‘å®¤","type":"llm","variables":[],"vision":{"configs":{"detail":"high"},"enabled":true}},"height":98,"id":"1722954924720","position":{"x":3070,"y":1031},"positionAbsolute":{"x":3070,"y":1031},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"assigned_variable_selector":["conversation","department"],"desc":"","input_variable_selector":["1722954924720","text"],"selected":false,"title":"å˜é‡èµ‹å€¼ï¼ˆç§‘å®¤ï¼‰","type":"assigner","write_mode":"over-write"},"height":132,"id":"1722954934239","position":{"x":3374,"y":1048.5},"positionAbsolute":{"x":3374,"y":1048.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"context":{"enabled":false,"variable_selector":[]},"desc":"","memory":{"query_prompt_template":"è¿™æ˜¯èŠå¤©è®°å½•ï¼š{}","role_prefix":{"assistant":"","user":""},"window":{"enabled":true,"size":50}},"model":{"completion_params":{"temperature":0.7},"mode":"chat","name":"gpt-4o","provider":"openai"},"prompt_template":[{"id":"f3aade03-5e59-471d-b0d1-829cd028640f","role":"system","text":"<instructions>\n1. ä»èŠå¤©è®°å½•ä¸­æå–ç”¨æˆ·æåˆ°çš„è‡ªå·±çš„æ€§åˆ«ã€‚\n2. å¦‚æœç”¨æˆ·åœ¨å¤šæ¡èŠå¤©è®°å½•ä¸­æåˆ°æ€§åˆ«ï¼Œæå–æœ€æ–°çš„ä¸€æ¡è®°å½•ä¸­çš„å¹´é¾„ã€‚\n3. å¦‚æœèŠå¤©è®°å½•ä¸­æ²¡æœ‰æåˆ°æ€§åˆ«ï¼Œè¾“å‡ºnullã€‚\n4. è¾“å‡ºç»“æœæ—¶ï¼Œä¸è¦åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚\n\næ³¨æ„äº‹é¡¹ï¼š\n- ç¡®ä¿æå–çš„æ€§åˆ«æ˜¯ç”¨æˆ·æ˜ç¡®æåˆ°çš„ã€‚\n- å¦‚æœç”¨æˆ·æ²¡æœ‰æåˆ°æ€§åˆ«ï¼Œè¾“å‡ºnullã€‚\n- ç¡®ä¿è¾“å‡ºçš„æ ¼å¼æ¸…æ™°ä¸”æ˜“äºç†è§£ã€‚\n</instructions>\n\n<examples>\n<example>\n<chat>\nç”¨æˆ·: æˆ‘ä»Šå¹´25å²äº†ã€‚\nç”¨æˆ·: æˆ‘å¼Ÿå¼Ÿæ¯”æˆ‘å°ä¸¤å²ã€‚\n</chat>\n<output>\nnull\n</output>\n</example>\n\n<example>\n<chat>\nç”¨æˆ·: æˆ‘æ˜¯ç”·æ€§\n</chat>\n<output>\nç”·\n</output>\n</example>\n\n<example>\n<chat>\nuser: æˆ‘æ˜¨å¤©åˆšè¿‡äº†30å²ç”Ÿæ—¥ã€‚\nassistant: å¥½çš„äº†è§£äº†ï¼Œè¯·æä¾›æ‚¨çš„æ€§åˆ«ã€‚\nuser: å¥³çš„\nassistant: æœ‰ä»€ä¹ˆç—‡çŠ¶å—ï¼Ÿ\nuser: æœ€è¿‘ä¸¤å¤©æœ‰ç‚¹å‘çƒ§ï¼Œè‚šå­ç–¼\n</chat>\n<output>\nå¥³\n</output>\n</example>\n</examples>"}],"selected":false,"title":"æå–æ‚£è€…æ€§åˆ«","type":"llm","variables":[],"vision":{"configs":{"detail":"high"},"enabled":true}},"height":98,"id":"1722955026661","position":{"x":3070,"y":689},"positionAbsolute":{"x":3070,"y":689},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"context":{"enabled":false,"variable_selector":[]},"desc":"","model":{"completion_params":{"temperature":0.7},"mode":"chat","name":"gpt-4o","provider":"openai"},"prompt_template":[{"id":"55c0f28c-2936-4300-84e3-99858864c55a","role":"system","text":"```xml\n<instructions>\n1. æ¥æ”¶è¾“å…¥çš„ age, gender å’Œ symptom å˜é‡ã€‚\n2. æ£€æŸ¥æ¯ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºå€¼ã€‚\n3. å¦‚æœ age ä¸ºç©ºï¼Œè¾“å‡ºæé†’æ‚£è€…æä¾›å¹´é¾„ä¿¡æ¯ã€‚\n4. å¦‚æœ gender ä¸ºç©ºï¼Œè¾“å‡ºæé†’æ‚£è€…æä¾›æ€§åˆ«ä¿¡æ¯ã€‚\n5. å¦‚æœ symptom ä¸ºç©ºï¼Œè¾“å‡ºæé†’æ‚£è€…æä¾›ç—‡çŠ¶ä¿¡æ¯ã€‚\n6. å¦‚æœæ‰€æœ‰å˜é‡éƒ½ä¸ä¸ºç©ºï¼Œè¾“å‡ºç¡®è®¤ä¿¡æ¯ï¼Œè¡¨ç¤ºæ‰€æœ‰å¿…è¦ä¿¡æ¯éƒ½å·²æä¾›ã€‚\n7. è¾“å‡ºå†…å®¹ä¸åº”åŒ…å«ä»»ä½• XML æ ‡ç­¾ã€‚\n</instructions>\n\n<examples>\n<example>\n<input>\nage: 25\ngender: ç”·\nsymptom: å¤´ç—›\n</input>\n<output>\næ‰€æœ‰å¿…è¦ä¿¡æ¯éƒ½å·²æä¾›ã€‚\n</output>\n</example>\n\n<example>\n<input>\nage: \ngender: å¥³\nsymptom: å’³å—½\n</input>\n<output>\nè¯·æä¾›æ‚¨çš„å¹´é¾„ä¿¡æ¯ã€‚\n</output>\n</example>\n\n<example>\n<input>\nage: 30\ngender: \nsymptom: å‘çƒ§\n</input>\n<output>\nè¯·æä¾›æ‚¨çš„æ€§åˆ«ä¿¡æ¯ã€‚\n</output>\n</example>\n\n<example>\n<input>\nage: 45\ngender: ç”·\nsymptom: \n</input>\n<output>\nè¯·æä¾›æ‚¨çš„ç—‡çŠ¶ä¿¡æ¯ã€‚\n</output>\n</example>\n</examples>\n```"},{"id":"8e475877-490a-41cb-8a52-cd902a0577b8","role":"user","text":"ç”¨æˆ·ä¿¡æ¯ï¼š\n|ç—‡çŠ¶|{}|\n|å¹´é¾„|{}|\n|æ€§åˆ«|{}|\n"}],"selected":false,"title":"èŠå¤©ï¼ˆå¹´é¾„åˆ†æ”¯ï¼‰","type":"llm","variables":[],"vision":{"configs":{"detail":"high"},"enabled":true}},"height":98,"id":"1722955046266","position":{"x":3678,"y":540},"positionAbsolute":{"x":3678,"y":540},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"context":{"enabled":false,"variable_selector":[]},"desc":"","model":{"completion_params":{"temperature":0.7},"mode":"chat","name":"gpt-4o","provider":"openai"},"prompt_template":[{"id":"54f1c126-769c-4dda-88a9-5f54419caefc","role":"system","text":"<instructions>\n1. æ¥æ”¶è¾“å…¥çš„ age, gender å’Œ symptom å˜é‡ã€‚\n2. æ£€æŸ¥æ¯ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºå€¼ã€‚\n3. å¦‚æœ age ä¸ºç©ºï¼Œè¾“å‡ºæé†’æ‚£è€…æä¾›å¹´é¾„ä¿¡æ¯ã€‚\n4. å¦‚æœ gender ä¸ºç©ºï¼Œè¾“å‡ºæé†’æ‚£è€…æä¾›æ€§åˆ«ä¿¡æ¯ã€‚\n5. å¦‚æœ symptom ä¸ºç©ºï¼Œè¾“å‡ºæé†’æ‚£è€…æä¾›ç—‡çŠ¶ä¿¡æ¯ã€‚\n6. å¦‚æœæ‰€æœ‰å˜é‡éƒ½ä¸ä¸ºç©ºï¼Œè¾“å‡ºç¡®è®¤ä¿¡æ¯ï¼Œè¡¨ç¤ºæ‰€æœ‰å¿…è¦ä¿¡æ¯éƒ½å·²æä¾›ã€‚\n7. è¾“å‡ºå†…å®¹ä¸åº”åŒ…å«ä»»ä½• XML æ ‡ç­¾ã€‚\n</instructions>\n\n<examples>\n<example>\n<input>\nage: 25\ngender: ç”·\nsymptom: å¤´ç—›\n</input>\n<output>\næ‰€æœ‰å¿…è¦ä¿¡æ¯éƒ½å·²æä¾›ã€‚\n</output>\n</example>\n\n<example>\n<input>\nage: \ngender: å¥³\nsymptom: å’³å—½\n</input>\n<output>\nè¯·æä¾›æ‚¨çš„å¹´é¾„ä¿¡æ¯ã€‚\n</output>\n</example>\n\n<example>\n<input>\nage: 30\ngender: \nsymptom: å‘çƒ§\n</input>\n<output>\nè¯·æä¾›æ‚¨çš„æ€§åˆ«ä¿¡æ¯ã€‚\n</output>\n</example>\n\n<example>\n<input>\nage: 45\ngender: ç”·\nsymptom: \n</input>\n<output>\nè¯·æä¾›æ‚¨çš„ç—‡çŠ¶ä¿¡æ¯ã€‚\n</output>\n</example>\n</examples>"},{"id":"631d9e62-98b8-4605-861a-8e19573dca4f","role":"user","text":"ç”¨æˆ·ä¿¡æ¯ï¼š\n|ç—‡çŠ¶|{}|\n|å¹´é¾„|{}|\n|æ€§åˆ«|{}|\n\n\n"}],"selected":false,"title":"èŠå¤©ï¼ˆæ€§åˆ«åˆ†æ”¯ï¼‰","type":"llm","variables":[],"vision":{"configs":{"detail":"high"},"enabled":true}},"height":98,"id":"1722955054068","position":{"x":3678,"y":711},"positionAbsolute":{"x":3678,"y":711},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"desc":"","output_type":"string","selected":false,"title":"å˜é‡èšåˆå™¨","type":"variable-aggregator","variables":[["1722955046266","text"],["1722955054068","text"],["1722955862857","text"]]},"height":164,"id":"1722955082746","position":{"x":3982,"y":706.5},"positionAbsolute":{"x":3982,"y":706.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"answer":"{}","desc":"","selected":false,"title":"ç›´æ¥å›å¤","type":"answer","variables":[]},"height":107,"id":"1722955144801","position":{"x":4590,"y":711},"positionAbsolute":{"x":4590,"y":711},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"desc":"","selected":false,"template":"","title":"æ¨èç§‘å®¤","type":"template-transform","variables":[{"value_selector":["conversation","department"],"variable":"department"}]},"height":54,"id":"1722955163497","position":{"x":3678,"y":1075},"positionAbsolute":{"x":3678,"y":1075},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"answer":"æ¨èæ‚¨åˆ°ä»¥ä¸‹ç§‘å®¤æŒ‚å·ï¼š\n{}","desc":"","selected":false,"title":"ç›´æ¥å›å¤","type":"answer","variables":[]},"height":123,"id":"1722955184232","position":{"x":3982,"y":1074},"positionAbsolute":{"x":3982,"y":1074},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"assigned_variable_selector":["conversation","age"],"desc":"","input_variable_selector":["1722954831811","text"],"selected":false,"title":"å˜é‡èµ‹å€¼ï¼ˆå¹´é¾„ï¼‰","type":"assigner","write_mode":"over-write"},"height":132,"id":"1722955666307","position":{"x":3374,"y":535.5},"positionAbsolute":{"x":3374,"y":535.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"assigned_variable_selector":["conversation","gender"],"desc":"","input_variable_selector":["1722955026661","text"],"selected":false,"title":"å˜é‡èµ‹å€¼ï¼ˆæ€§åˆ«ï¼‰","type":"assigner","write_mode":"over-write"},"height":132,"id":"1722955684908","position":{"x":3374,"y":706.5},"positionAbsolute":{"x":3374,"y":706.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"context":{"enabled":false,"variable_selector":[]},"desc":"","memory":{"query_prompt_template":"æ‚£è€…æä¾›çš„ä¿¡æ¯ï¼š{}","role_prefix":{"assistant":"","user":""},"window":{"enabled":false,"size":50}},"model":{"completion_params":{"temperature":0.7},"mode":"chat","name":"gpt-4o","provider":"openai"},"prompt_template":[{"id":"4442d59d-2682-4411-ac75-e3f550fa0135","role":"system","text":"<instructions>\n1. é˜…è¯»æ‚£è€…çš„èŠå¤©è®°å½•ï¼Œä»”ç»†è¯†åˆ«å’Œæå–ä¸ç—‡çŠ¶ç›¸å…³çš„ä¿¡æ¯ã€‚\n2. å°†æ‰€æœ‰æå–åˆ°çš„ç—‡çŠ¶è¿›è¡Œæ€»ç»“ï¼Œç¡®ä¿æ€»ç»“å†…å®¹ç®€æ´æ˜äº†ã€‚\n3. è¾“å‡ºçš„æ€»ç»“åº”å½“å‡†ç¡®åæ˜ æ‚£è€…çš„ç—‡çŠ¶ï¼Œä¸åŒ…å«ä»»ä½•å¤šä½™çš„ä¿¡æ¯ã€‚\n4. è¾“å‡ºå†…å®¹ä¸åº”åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚\n5. å¦‚æœç”¨æˆ·æ²¡æœ‰æåˆ°ç—‡çŠ¶ï¼Œè¾“å‡ºnullã€‚\n</instructions>\n\n<examples>\n  <example>\n    <input>\n      æ‚£è€…: æœ€è¿‘å‡ å¤©æˆ‘ä¸€ç›´æ„Ÿè§‰å¤´ç—›ï¼Œè€Œä¸”æœ‰æ—¶å€™ä¼šè§‰å¾—æ¶å¿ƒã€‚æ˜¨å¤©æ™šä¸Šè¿˜å‘çƒ§äº†ï¼Œä½“æ¸©å¤§æ¦‚æœ‰38åº¦ã€‚\n    </input>\n    <output>\n      å¤´ç—›ã€æ¶å¿ƒã€å‘çƒ§ï¼ˆä½“æ¸©38åº¦ï¼‰\n    </output>\n  </example>\n  <example>\n    <input>\n      æ‚£è€…: æˆ‘è¿™å‡ å¤©æ€»æ˜¯å’³å—½ï¼Œå°¤å…¶æ˜¯æ™šä¸Šç¡è§‰çš„æ—¶å€™å’³å¾—æ›´å‰å®³ã€‚è¿˜æœ‰ç‚¹å–‰å’™ç—›ï¼Œæ„Ÿè§‰å—“å­é‡Œæœ‰ç—°ã€‚\n    </input>\n    <output>\n      å’³å—½ï¼ˆæ™šä¸Šæ›´ä¸¥é‡ï¼‰ã€å–‰å’™ç—›ã€æœ‰ç—°\n    </output>\n  </example>\n  <example>\n    <input>\n      æ‚£è€…: æœ€è¿‘æ€»æ˜¯è§‰å¾—å¾ˆç´¯ï¼Œæ²¡ä»€ä¹ˆåŠ›æ°”ã€‚èµ°è·¯çš„æ—¶å€™æœ‰ç‚¹å–˜ä¸è¿‡æ°”æ¥ï¼Œæœ‰æ—¶å€™è¿˜ä¼šèƒ¸é—·ã€‚\n    </input>\n    <output>\n      ç–²åŠ³ã€ä¹åŠ›ã€å‘¼å¸å›°éš¾ã€èƒ¸é—·\n    </output>\n  </example>\n</examples>"}],"selected":false,"title":"æå–ç—‡çŠ¶","type":"llm","variables":[],"vision":{"configs":{"detail":"high"},"enabled":true}},"height":98,"id":"1722955850138","position":{"x":3070,"y":860},"positionAbsolute":{"x":3070,"y":860},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"assigned_variable_selector":["conversation","symptom"],"desc":"","input_variable_selector":["1722955850138","text"],"selected":false,"title":"å˜é‡èµ‹å€¼ï¼ˆç—‡çŠ¶ï¼‰","type":"assigner","write_mode":"over-write"},"height":132,"id":"1722955855002","position":{"x":3374,"y":877.5},"positionAbsolute":{"x":3374,"y":877.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"context":{"enabled":false,"variable_selector":[]},"desc":"","model":{"completion_params":{"temperature":0.7},"mode":"chat","name":"gpt-4o","provider":"openai"},"prompt_template":[{"id":"ccd17f08-f41e-414f-be3a-60bc5939ab78","role":"system","text":"```xml\n<instructions>\n1. æ¥æ”¶è¾“å…¥çš„ age, gender å’Œ symptom å˜é‡ã€‚\n2. æ£€æŸ¥æ¯ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºå€¼ã€‚\n3. å¦‚æœ age ä¸ºç©ºï¼Œè¾“å‡ºæé†’æ‚£è€…æä¾›å¹´é¾„ä¿¡æ¯ã€‚\n4. å¦‚æœ gender ä¸ºç©ºï¼Œè¾“å‡ºæé†’æ‚£è€…æä¾›æ€§åˆ«ä¿¡æ¯ã€‚\n5. å¦‚æœ symptom ä¸ºç©ºï¼Œè¾“å‡ºæé†’æ‚£è€…æä¾›ç—‡çŠ¶ä¿¡æ¯ã€‚\n6. å¦‚æœæ‰€æœ‰å˜é‡éƒ½ä¸ä¸ºç©ºï¼Œè¾“å‡ºç¡®è®¤ä¿¡æ¯ï¼Œè¡¨ç¤ºæ‰€æœ‰å¿…è¦ä¿¡æ¯éƒ½å·²æä¾›ã€‚\n7. è¾“å‡ºå†…å®¹ä¸åº”åŒ…å«ä»»ä½• XML æ ‡ç­¾ã€‚\n</instructions>\n\n<examples>\n<example>\n<input>\nage: 25\ngender: ç”·\nsymptom: å¤´ç—›\n</input>\n<output>\næ‰€æœ‰å¿…è¦ä¿¡æ¯éƒ½å·²æä¾›ã€‚\n</output>\n</example>\n\n<example>\n<input>\nage: \ngender: å¥³\nsymptom: å’³å—½\n</input>\n<output>\nè¯·æä¾›æ‚¨çš„å¹´é¾„ä¿¡æ¯ã€‚\n</output>\n</example>\n\n<example>\n<input>\nage: 30\ngender: \nsymptom: å‘çƒ§\n</input>\n<output>\nè¯·æä¾›æ‚¨çš„æ€§åˆ«ä¿¡æ¯ã€‚\n</output>\n</example>\n\n<example>\n<input>\nage: 45\ngender: ç”·\nsymptom: \n</input>\n<output>\nè¯·æä¾›æ‚¨çš„ç—‡çŠ¶ä¿¡æ¯ã€‚\n</output>\n</example>\n</examples>\n```"},{"id":"d6bd7d0a-4ac4-48ac-8ed6-4759b9374e21","role":"user","text":"ç”¨æˆ·ä¿¡æ¯ï¼š\n|ç—‡çŠ¶|{}|\n|å¹´é¾„|{}|\n|æ€§åˆ«|{}|\n\n\n"}],"selected":false,"title":"èŠå¤©ï¼ˆç—‡çŠ¶åˆ†æ”¯ï¼‰","type":"llm","variables":[],"vision":{"configs":{"detail":"high"},"enabled":true}},"height":98,"id":"1722955862857","position":{"x":3678,"y":882},"positionAbsolute":{"x":3678,"y":882},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"context":{"enabled":false,"variable_selector":[]},"desc":"","model":{"completion_params":{"temperature":0.7},"mode":"chat","name":"gpt-4o","provider":"openai"},"prompt_template":[{"id":"5507a45e-b1cf-4610-b138-a14cb5d9deb1","role":"system","text":"<instructions>\n1. æ ¹æ®æä¾›çš„æ€§åˆ«ã€å¹´é¾„å’Œç—‡çŠ¶ï¼Œåˆ¤æ–­æ‚£è€…åº”è¯¥å»åŒ»é™¢çš„å“ªä¸ªç§‘å®¤å°±è¯Šã€‚\n2. é¦–å…ˆï¼Œåˆ†ææ‚£è€…çš„æ€§åˆ«å’Œå¹´é¾„ï¼Œè¿™å¯èƒ½ä¼šå½±å“æŸäº›ç—‡çŠ¶çš„ä¸¥é‡æ€§å’Œå¯èƒ½çš„ç§‘å®¤é€‰æ‹©ã€‚\n3. ç„¶åï¼Œä»”ç»†é˜…è¯»å¹¶ç†è§£æ‚£è€…çš„ç—‡çŠ¶ï¼Œç¡®å®šè¿™äº›ç—‡çŠ¶å¯èƒ½ä¸å“ªäº›ç§‘å®¤ç›¸å…³ã€‚\n4. æ ¹æ®å¸¸è§çš„åŒ»ç–—ç§‘å®¤å’Œå…¶å¯¹åº”çš„ç—‡çŠ¶ï¼ŒåŒ¹é…æ‚£è€…çš„ç—‡çŠ¶åˆ°æœ€åˆé€‚çš„ç§‘å®¤ã€‚\n5. è¾“å‡ºç»“æœæ—¶ï¼Œåªéœ€æä¾›ç§‘å®¤åç§°ï¼Œä¸è¦åŒ…å«ä»»ä½•XMLæ ‡ç­¾ã€‚\n</instructions>\n\n<examples>\n<example>\n<gender>ç”·</gender>\n<age>45</age>\n<symptoms>èƒ¸ç—›ï¼Œå‘¼å¸å›°éš¾</symptoms>\n<output>å¿ƒå†…ç§‘</output>\n</example>\n\n<example>\n<gender>å¥³</gender>\n<age>30</age>\n<symptoms>è…¹ç—›ï¼Œæ¶å¿ƒï¼Œå‘•å</symptoms>\n<output>æ¶ˆåŒ–å†…ç§‘</output>\n</example>\n\n<example>\n<gender>ç”·</gender>\n<age>60</age>\n<symptoms>å…³èŠ‚ç–¼ç—›ï¼Œè¡ŒåŠ¨å›°éš¾</symptoms>\n<output>éª¨ç§‘</output>\n</example>\n</examples>"},{"id":"ea4ea6c4-a9a7-49e5-a0a4-afcd829f185c","role":"user","text":"<æ‚£è€…ä¿¡æ¯>\nå¹´é¾„ï¼š{}\næ€§åˆ«ï¼š{}\nç—‡çŠ¶ï¼š{}"}],"selected":false,"title":"æ¨èç§‘å®¤","type":"llm","variables":[],"vision":{"configs":{"detail":"high"},"enabled":true}},"height":98,"id":"17229568358470","position":{"x":4590,"y":857},"positionAbsolute":{"x":4590,"y":857},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"assigned_variable_selector":["conversation","department"],"desc":"","input_variable_selector":["17229568358470","text"],"selected":false,"title":"å˜é‡èµ‹å€¼ï¼ˆç§‘å®¤ï¼‰","type":"assigner","write_mode":"over-write"},"height":132,"id":"17229568563440","position":{"x":4894,"y":852.5},"positionAbsolute":{"x":4894,"y":852.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"desc":"","selected":false,"template":"","title":"æ¨èç§‘å®¤ï¼ˆæ¡ä»¶åˆ†æ”¯ï¼‰","type":"template-transform","variables":[{"value_selector":["conversation","department"],"variable":"department"}]},"height":54,"id":"17229568595490","position":{"x":5198,"y":852.5},"positionAbsolute":{"x":5198,"y":852.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"answer":"æ¨èæ‚¨åˆ°ä»¥ä¸‹ç§‘å®¤æŒ‚å·ï¼š\n{}","desc":"","selected":false,"title":"ç›´æ¥å›å¤","type":"answer","variables":[]},"height":123,"id":"17229568606330","position":{"x":5502,"y":852.5},"positionAbsolute":{"x":5502,"y":852.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"cases":[{"case_id":"true","conditions":[{"comparison_operator":"contains","id":"265ab578-5a74-4e5d-a70f-9cd03342a24b","value":"null","varType":"string","variable_selector":["conversation","symptom"]},{"comparison_operator":"contains","id":"7541da62-400a-498d-a126-1f7fd16a03c7","value":"null","varType":"string","variable_selector":["conversation","age"]},{"comparison_operator":"contains","id":"3c4bbff4-bf7a-4ee2-9f8b-db677ee1222a","value":"null","varType":"string","variable_selector":["conversation","gender"]},{"comparison_operator":"empty","id":"4a2a221e-fa6a-4e60-82dd-9b3f365d27c0","value":"","varType":"string","variable_selector":["conversation","symptom"]},{"comparison_operator":"empty","id":"ca75a216-2968-46ef-97cc-49fe87ff5c26","value":"","varType":"string","variable_selector":["conversation","age"]},{"comparison_operator":"empty","id":"508c32d0-f7bc-4ffa-869f-0d99b2bd02ce","value":"","varType":"string","variable_selector":["conversation","gender"]}],"id":"true","logical_operator":"or"}],"desc":"","selected":false,"title":"æ˜¯å¦æœ‰ç©ºå¯¹è¯å˜é‡","type":"if-else"},"height":256,"id":"1722956878299","position":{"x":4286,"y":711},"positionAbsolute":{"x":4286,"y":711},"selected":true,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"desc":"","instruction":"","model":{"completion_params":{"temperature":0.7},"mode":"chat","name":"gpt-4o","provider":"openai"},"parameters":[{"description":"æ‚£è€…çš„å¹´é¾„","name":"age","required":false,"type":"string"},{"description":"æ‚£è€…è‡ªå·±çš„æ€§åˆ«","name":"gender","required":false,"type":"string"},{"description":"æ‚£è€…è‡ªå·±çš„ç—‡çŠ¶","name":"symptom","required":false,"type":"string"}],"query":["sys","query"],"reasoning_mode":"prompt","selected":false,"title":"æå–æ‚£è€…ä¿¡æ¯","type":"parameter-extractor","variables":[]},"height":98,"id":"1722957436489","position":{"x":2138,"y":440.42857142857144},"positionAbsolute":{"x":2138,"y":440.42857142857144},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"assigned_variable_selector":["conversation","age"],"desc":"","input_variable_selector":["1722957436489","age"],"selected":false,"title":"å˜é‡èµ‹å€¼ï¼ˆå¹´é¾„ï¼‰","type":"assigner","write_mode":"over-write"},"height":132,"id":"1722957594963","position":{"x":2138,"y":559},"positionAbsolute":{"x":2138,"y":559},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"assigned_variable_selector":["conversation","symptom"],"desc":"","input_variable_selector":["1722957436489","symptom"],"selected":false,"title":"å˜é‡èµ‹å€¼ï¼ˆç—‡çŠ¶ï¼‰","type":"assigner","write_mode":"over-write"},"height":132,"id":"1722957636037","position":{"x":2143.714285714286,"y":847.5714285714286},"positionAbsolute":{"x":2143.714285714286,"y":847.5714285714286},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"assigned_variable_selector":["conversation","gender"],"desc":"","input_variable_selector":["1722957436489","gender"],"selected":false,"title":"å˜é‡èµ‹å€¼ï¼ˆæ€§åˆ«ï¼‰","type":"assigner","write_mode":"over-write"},"height":132,"id":"1722957638479","position":{"x":2138,"y":706.5},"positionAbsolute":{"x":2138,"y":706.5},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"cases":[{"case_id":"true","conditions":[{"comparison_operator":"=","id":"abd5761a-5e4f-43fc-95e2-f618e55a04e5","value":"1","varType":"number","variable_selector":["conversation","is_first_message"]}],"id":"true","logical_operator":"and"}],"desc":"","selected":false,"title":"æ˜¯å¦å¤„äºç¬¬ä¸€è½®å¯¹è¯","type":"if-else"},"height":126,"id":"1722958736715","position":{"x":1815.4285714285716,"y":287.7857142857143},"positionAbsolute":{"x":1815.4285714285716,"y":287.7857142857143},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"desc":"","output_type":"string","selected":false,"title":"å˜é‡èšåˆå™¨ï¼ˆç¬¬ä¸€è½®å¯¹è¯ï¼‰","type":"variable-aggregator","variables":[["1722957436489","symptom"]]},"height":112,"id":"1722959274773","position":{"x":2464.857142857143,"y":326.3571428571429},"positionAbsolute":{"x":2464.857142857143,"y":326.3571428571429},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"assigned_variable_selector":["conversation","is_first_message"],"desc":"","input_variable_selector":["1722959549093","result"],"selected":false,"title":"å˜é‡èµ‹å€¼ï¼ˆåˆ¤æ–­ç¬¬ä¸€è½®å¯¹è¯ï¼‰","type":"assigner","write_mode":"over-write"},"height":132,"id":"1722959303858","position":{"x":2143.714285714286,"y":1059},"positionAbsolute":{"x":2143.714285714286,"y":1059},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"code":"\ndef main():\n    data = 0\n    return {\n        \"result\": data,\n    }\n","code_language":"python3","desc":"","outputs":{"result":{"children":null,"type":"number"}},"selected":false,"title":"è¾“å‡º0","type":"code","variables":[]},"height":54,"id":"1722959549093","position":{"x":2143.714285714286,"y":991.8571428571427},"positionAbsolute":{"x":2143.714285714286,"y":991.8571428571427},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom","width":244},{"data":{"author":"Dify","desc":"","height":139,"selected":false,"showAuthor":true,"text":"{\"root\":{\"children\":[{\"children\":[{\"detail\":0,\"format\":0,\"mode\":\"normal\",\"style\":\"\",\"text\":\"èŠå¤©æ—¶è¾“å…¥æ€§åˆ«ã€å¹´é¾„å’Œç—‡çŠ¶ï¼Œä¸ºæ‚¨æ¨èå°±è¯Šçš„ç§‘å®¤ã€‚å¯ä»¥ä¸€æ¬¡æ€§è¾“å…¥ï¼Œä¹Ÿå¯ä»¥åˆ†æ¬¡è¾“å…¥ã€‚\",\"type\":\"text\",\"version\":1}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"paragraph\",\"version\":1,\"textFormat\":0}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"root\",\"version\":1}}","theme":"blue","title":"","type":"","width":265},"height":139,"id":"1723014131142","position":{"x":1492.8571428571431,"y":440.42857142857144},"positionAbsolute":{"x":1492.8571428571431,"y":440.42857142857144},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom-note","width":265},{"data":{"author":"Dify","desc":"","height":117,"selected":false,"showAuthor":true,"text":"{\"root\":{\"children\":[{\"children\":[{\"detail\":0,\"format\":0,\"mode\":\"normal\",\"style\":\"\",\"text\":\"å¦‚æœå¤„äºç¬¬ä¸€è½®å¯¹è¯ï¼Œå‡å®šç”¨æˆ·ä¼šä¸€æ¬¡æ€§æä¾›æ‰€æœ‰ä¿¡æ¯ï¼Œä½¿ç”¨å˜é‡æå–å™¨æå–æ‰€æœ‰å¯¹åº”çš„æ€§åˆ«ã€ç—‡çŠ¶å’Œå¹´é¾„ã€‚\",\"type\":\"text\",\"version\":1}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"paragraph\",\"version\":1,\"textFormat\":0}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"root\",\"version\":1}}","theme":"blue","title":"","type":"","width":245},"height":117,"id":"1723014179616","position":{"x":1815.4285714285716,"y":137.71270800588303},"positionAbsolute":{"x":1815.4285714285716,"y":137.71270800588303},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom-note","width":245},{"data":{"author":"Dify","desc":"","height":88,"selected":false,"showAuthor":true,"text":"{\"root\":{\"children\":[{\"children\":[{\"detail\":0,\"format\":0,\"mode\":\"normal\",\"style\":\"\",\"text\":\"åç»­è½®æ¬¡å¯¹è¯ä¼šè·³è¿‡è¿™ä¸€æ­¥éª¤ã€‚\",\"type\":\"text\",\"version\":1}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"paragraph\",\"version\":1,\"textFormat\":0}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"root\",\"version\":1}}","theme":"blue","title":"","type":"","width":240},"height":88,"id":"1723014219485","position":{"x":2130.024559475983,"y":258.3461432054888},"positionAbsolute":{"x":2130.024559475983,"y":258.3461432054888},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom-note","width":240},{"data":{"author":"Dify","desc":"","height":88,"selected":false,"showAuthor":true,"text":"{\"root\":{\"children\":[{\"children\":[{\"detail\":0,\"format\":0,\"mode\":\"normal\",\"style\":\"\",\"text\":\"ä½¿ç”¨æ¡ä»¶åˆ†æ”¯åˆ¤æ–­å“ªä¸€é¡¹å¯¹è¯å˜é‡ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¯¢é—®ç”¨æˆ·æä¾›å¯¹åº”çš„ä¿¡æ¯ã€‚\",\"type\":\"text\",\"version\":1}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"paragraph\",\"version\":1,\"textFormat\":0}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"root\",\"version\":1}}","theme":"blue","title":"","type":"","width":240},"height":88,"id":"1723014244350","position":{"x":2766,"y":258.3461432054888},"positionAbsolute":{"x":2766,"y":258.3461432054888},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom-note","width":240},{"data":{"author":"Dify","desc":"","height":105,"selected":false,"showAuthor":true,"text":"{\"root\":{\"children\":[{\"children\":[{\"detail\":0,\"format\":0,\"mode\":\"normal\",\"style\":\"\",\"text\":\"å¦‚æœæ²¡æœ‰ç©ºçš„å¯¹è¯å˜é‡ï¼Œå°±æ¨èç§‘å®¤ã€‚å¦‚æœæœ‰ç©ºçš„å˜é‡å°±ç»§ç»­è¯¢é—®/èŠå¤©ã€‚\",\"type\":\"text\",\"version\":1}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"paragraph\",\"version\":1,\"textFormat\":0}],\"direction\":\"ltr\",\"format\":\"\",\"indent\":0,\"type\":\"root\",\"version\":1}}","theme":"blue","title":"","type":"","width":246},"height":105,"id":"1723014283500","position":{"x":4286,"y":568.0134150065385},"positionAbsolute":{"x":4286,"y":568.0134150065385},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"custom-note","width":246}],"viewport":{"x":-2551.04212290305,"y":59.27109272655815,"zoom":1.7719212933199335}}}}